# Turn Eyalet to Vassal status
offer_to_join_religion = {
	category = influence

	require_acceptance = yes

	#alert_index = 6
	#alert_tooltip = promote_vassal_to_eyalet_alert_tooltip

	is_visible = {
		OR = {
			has_country_flag = muslim_pious_country
			has_country_flag = christian_pious_country
			has_country_flag = buddhism_pious_country
		}
		FROM = {
			NOT = { has_matching_religion = ROOT }
			OR = {
				is_subject = no
				is_subject_of = ROOT
			}
		}
	}
	is_allowed = {
		if = {
			limit = {
				FROM = { 
					is_subject_of = ROOT
					liberty_desire = 50 
				}
			}
			custom_trigger_tooltip = {
				tooltip = FROM_IS_REBELLIOUS_TT
				FROM = { liberty_desire = 50 }
			}
		}
		FROM = {
			NOT = { has_matching_religion = ROOT }
			OR = {
				is_subject = no
				is_subject_of = ROOT
			}
			has_opinion = {
				who = ROOT
				value = 50
			}
			trust = {
				who = ROOT
				value = 40
			}
		}
	}
	on_accept = {
		FROM = {
			every_known_country = {
				limit = {
					religion = PREV
					NOT = { tag = PREV }
				}
				add_opinion = {
					who = FROM
					modifier = accept_to_left_the_religion
				}
			}
			change_religion = ROOT
			add_stability = -1
			every_known_country = {
				limit = {
					religion = ROOT
				}
				add_opinion = {
					who = FROM
					modifier = accept_to_join_the_religion
				}
			}
		}
	}
	on_decline = {
		FROM = {
			every_known_country = {
				limit = {
					religion = PREV
				}
				add_opinion = {
					who = ROOT
					modifier = religious_heathen_try_to_convert_true_faith
				}
			}
		}
	}

	ai_acceptance = {
		#add_entry = {
		#	name = FROM_JUST_ACCEPT_OTHER_RELIGION #Need Locali
		#	limit = {
		#		FROM = {
		#			NOT = {
		#				religion = ROOT
		#			}
		#		}
		#	}
		#	export_to_variable = {
		#		which = ai_value
		#		value = 50
		#	}
		#	multiply_variable = {
		#		which = ai_value
		#		value = -1
		#	}
		#}
		add_entry = {
			name = FROM_IS_INDEPENDENT_HERETIC #Need Locali
			limit = {
				FROM = {
					religion_group = ROOT
					NOT = {
						religion = ROOT
						is_subject_of = ROOT
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = 50
			}
			multiply_variable = {
				which = ai_value
				value = -1
			}
		}
		add_entry = {
			name = FROM_IS_INDEPENDENT_CHRISTIAN #Need Locali
			limit = {
				FROM = {
					religion_group = christian
					NOT = {
						is_subject_of = ROOT
						religion_group = ROOT
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = 75
			}
			multiply_variable = {
				which = ai_value
				value = -1
			}
		}
		add_entry = {
			name = FROM_IS_INDEPENDENT_MUSLIM #Need Locali
			limit = {
				FROM = {
					religion_group = muslim
					NOT = {
						is_subject_of = ROOT
						religion_group = ROOT
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = 75
			}
			multiply_variable = {
				which = ai_value
				value = -1
			}
		}
		add_entry = {
			name = FROM_IS_INDEPENDENT_SIGNIFICANT #Need Locali
			limit = {
				FROM = {
					OR = {
						religion_group = buddhist_group
						religion_group = eastern
						religion_group = dharmic
						religion_group = jewish_group
						religion_group = zoroastrian_group
					}
					NOT = {
						is_subject_of = ROOT
						religion_group = ROOT
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = 50
			}
			multiply_variable = {
				which = ai_value
				value = -1
			}
		}
		add_entry = {
			name = FROM_IS_INDEPENDENT_PAGAN #Need Locali
			limit = {
				FROM = {
					OR = {
						religion_group = pagan
						religion_group = balto_slavic_group
						religion_group = finnic_group
						religion_group = slavic_group
						religion_group = asian_pagan_group
					}
					NOT = {
						is_subject_of = ROOT
						religion_group = ROOT
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = 20
			}
			multiply_variable = {
				which = ai_value
				value = -1
			}
		}
		add_entry = {
			name = AI_TRUST_TOWARDS_ROOT
			export_to_variable = {
				variable_name = ai_value
				value = trust
				who = FROM
				with = ROOT
			}			
			subtract_variable = { 
				which = ai_value
				value = 50
			}
			#1 trust = +4 ai points
			multiply_variable = {
				which = ai_value
				value = 0.4
			}
		}
		add_entry = {
			name = BORDER_DISTANCE
			export_to_variable = {
				which = ai_value
				value = border_distance
				who = FROM
				with = ROOT
			}
			multiply_variable = { which = ai_value value = -2 }
		}
		add_entry = {
			name = FROM_IS_VASSAL_FOR_AT_LEAST_10_YEARS #Need Locali
			limit = {
				FROM = {
					years_in_vassalage_under = {
						who = ROOT
						years = 10
						all_subject_country = yes
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = 10
			}
		}
		add_entry = {
			name = FROM_IS_VASSAL_FOR_AT_LEAST_20_YEARS #Need Locali
			limit = {
				FROM = {
					years_in_vassalage_under = {
						who = ROOT
						years = 20
						all_subject_country = yes
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = 10
			}
		}
		add_entry = {
			name = FROM_IS_VASSAL_FOR_AT_LEAST_30_YEARS #Need Locali
			limit = {
				FROM = {
					years_in_vassalage_under = {
						who = ROOT
						years = 30
						all_subject_country = yes
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = 10
			}
		}
		add_entry = {
			name = FROM_ATTITUDE_TOWARDS_ROOT
			limit = {
				FROM = {
					OR = {
						ai_attitude = { who = ROOT attitude = attitude_loyal }
						ai_attitude = { who = ROOT attitude = attitude_friendly }
						ai_attitude = { who = ROOT attitude = attitude_allied }
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = 20
			}
		}
		add_entry = {
			name = FROM_ATTITUDE_TOWARDS_ROOT
			limit = {
				FROM = {
					ai_attitude = { who = ROOT attitude = attitude_threatened }
				}
			}
			export_to_variable = {
				which = ai_value
				value = 10
			}
		}
		add_entry = {
			name = FROM_ATTITUDE_TOWARDS_ROOT
			limit = {
				FROM = {
					OR = {
						ai_attitude = { who = ROOT attitude = attitude_hostile }
						ai_attitude = { who = ROOT attitude = attitude_outraged }
						ai_attitude = { who = ROOT attitude = atittude_rivalry }
						ai_attitude = { who = ROOT attitude = attitude_disloyal }
						ai_attitude = { who = ROOT attitude = attitude_rebellious }
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = 1000
			}
			multiply_variable = { which = ai_value value = -1 }
		}
		add_entry = {
			name = OPINION
			export_to_variable = {
				which = ai_value
				value = opinion
				who = FROM
				with = ROOT
			}
			divide_variable = { which = ai_value value = 2 }
		}
		add_entry = {
			name = MODIFIER_DIPLO_SKILL
			export_to_variable = {
				which = ai_value
				value = modifier:diplomatic_reputation
			}
			multiply_variable = { which = ai_value value = 3 }
		}
		add_entry = {
			name = FROM_DEVELOPMENT
			export_to_variable = {
				which = ai_value
				value = trigger_value:total_development
				who = FROM
			}
			#subtract_variable = { which = ai_value value = 1 }
			divide_variable = { which = ai_value value = -2 }
		}
		add_entry = {
			name = ROOT_FROM_MILITARY_POWER_COMPARED
			limit = {
				variable_arithmetic_trigger = {
					export_to_variable = {
						which = our_mil_tech
						value = mil_tech
					}
					export_to_variable = {
						which = their_mil_tech
						value = mil_tech
						who = FROM
					}
					export_to_variable = {
						which = our_army_size
						value = trigger_value:army_size
					}
					export_to_variable = {
						which = their_army_size
						value = trigger_value:army_size
						who = FROM
					}
					export_to_variable = {
						which = military_power
						value = 0
					}
					divide_variable = { which = our_army_size value = 10 }
					divide_variable = { which = their_army_size value = -10 }
					change_variable = { which = our_army_size which = their_army_size }
					multiply_variable = { which = their_mil_tech value = -1 }
					change_variable = { which = our_mil_tech which = their_mil_tech }
					multiply_variable = { which = our_mil_tech value = 3 }
					change_variable = { which = military_power which = our_army_size }
					change_variable = { which = military_power which = our_mil_tech }
					NOT = { check_variable = { which = military_power value = -39 } }
				}
			}
			export_to_variable = {
				which = ai_value
				value = 40
			}
			multiply_variable = { which = ai_value value = -1 }
		}
		add_entry = {
			name = ROOT_FROM_MILITARY_POWER_COMPARED
			limit = {
				variable_arithmetic_trigger = {
					export_to_variable = {
						which = our_mil_tech
						value = mil_tech
					}
					export_to_variable = {
						which = their_mil_tech
						value = mil_tech
						who = FROM
					}
					export_to_variable = {
						which = our_army_size
						value = trigger_value:army_size
					}
					export_to_variable = {
						which = their_army_size
						value = trigger_value:army_size
						who = FROM
					}
					export_to_variable = {
						which = military_power
						value = 0
					}
					divide_variable = { which = our_army_size value = 10 }
					divide_variable = { which = their_army_size value = -10 }
					change_variable = { which = our_army_size which = their_army_size }
					multiply_variable = { which = their_mil_tech value = -1 }
					change_variable = { which = our_mil_tech which = their_mil_tech }
					multiply_variable = { which = our_mil_tech value = 3 }
					change_variable = { which = military_power which = our_army_size }
					change_variable = { which = military_power which = our_mil_tech }
					check_variable = { which = military_power value = -39 }
					NOT = { check_variable = { which = military_power value = 30 } }
				}
			}
			export_to_variable = {
				which = ai_value
				value = 0
			}
			export_to_variable = {
				which = our_mil_tech
				value = mil_tech
			}
			export_to_variable = {
				which = their_mil_tech
				value = mil_tech
				who = FROM
			}
			export_to_variable = {
				which = our_army_size
				value = trigger_value:army_size
			}
			export_to_variable = {
				which = their_army_size
				value = trigger_value:army_size
				who = FROM
			}
			divide_variable = { which = our_army_size value = 10 }
			divide_variable = { which = their_army_size value = -10 }
			change_variable = { which = our_army_size which = their_army_size }
			multiply_variable = { which = their_mil_tech value = -1 }
			change_variable = { which = our_mil_tech which = their_mil_tech }
			multiply_variable = { which = our_mil_tech value = 3 }
			change_variable = { which = ai_value which = our_army_size }
			change_variable = { which = ai_value which = our_mil_tech }
		}
		add_entry = {
			name = ROOT_FROM_MILITARY_POWER_COMPARED
			limit = {
				variable_arithmetic_trigger = {
					export_to_variable = {
						which = our_mil_tech
						value = mil_tech
					}
					export_to_variable = {
						which = their_mil_tech
						value = mil_tech
						who = FROM
					}
					export_to_variable = {
						which = our_army_size
						value = trigger_value:army_size
					}
					export_to_variable = {
						which = their_army_size
						value = trigger_value:army_size
						who = FROM
					}
					export_to_variable = {
						which = military_power
						value = 0
					}
					divide_variable = { which = our_army_size value = 10 }
					divide_variable = { which = their_army_size value = -10 }
					change_variable = { which = our_army_size which = their_army_size }
					multiply_variable = { which = their_mil_tech value = -1 }
					change_variable = { which = our_mil_tech which = their_mil_tech }
					multiply_variable = { which = our_mil_tech value = 3 }
					change_variable = { which = military_power which = our_army_size }
					change_variable = { which = military_power which = our_mil_tech }
					check_variable = { which = military_power value = 30 }
				}
			}
			export_to_variable = {
				which = ai_value
				value = 30
			}
		}
		add_entry = {
			name = FROM_IS_HRE_MEMBER
			limit = {
				NOT = { overlord_of = FROM }
				FROM = {
					is_part_of_hre = yes
				}
			}
			export_to_variable = {
				which = ai_value
				value = 70
			}
			multiply_variable = { which = ai_value value = -1 }
		}
		add_entry = {
			name = FROM_IS_PAPAL_STATE
			limit = {
				NOT = { overlord_of = FROM }
				FROM = {
					tag = PAP
				}
			}
			export_to_variable = {
				which = ai_value
				value = 1000
			}
			multiply_variable = { which = ai_value value = -1 }
		}
		add_entry = {
			name = FROM_IS_ALLIED_TO_PAPAL_STATE
			limit = {
				FROM = {
					religion = catholic
					OR = {
						alliance_with = PAP
						guaranteed_by = PAP
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = 100
			}
			multiply_variable = { which = ai_value value = -1 }
		}
		add_entry = {
			name = FROM_IS_DEFENDER_OF_FAITH
			limit = {
				NOT = { overlord_of = FROM }
				FROM = {
					is_defender_of_faith = yes
				}
			}
			export_to_variable = {
				which = ai_value
				value = 1000
			}
			multiply_variable = { which = ai_value value = -1 }
		}
		add_entry = {
			name = FROM_IS_ALLIED_TO_DEFENDER_OF_FAITH
			limit = {
				NOT = { overlord_of = FROM }
				FROM = {
					any_ally = {
						religion = PREV
						is_defender_of_faith = yes
						NOT = { army_size = ROOT }
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = 50
			}
			multiply_variable = { which = ai_value value = -1 }
		}
		add_entry = {
			name = FROM_IS_ALLIED_TO_DEFENDER_OF_FAITH
			limit = {
				NOT = { overlord_of = FROM }
				FROM = {
					any_ally = {
						religion = PREV
						is_defender_of_faith = yes
						army_size = ROOT
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = 100
			}
			multiply_variable = { which = ai_value value = -1 }
		}
		add_entry = {
			name = ROOT_OWNS_FROM_CORE_PROVINCES
			limit = {
				FROM = {
					NOT = { is_subject_of = ROOT }
				}
				any_owned_province = {
					is_core = FROM
				}
			}
			export_to_variable = {
				which = ai_value
				value = 1000
			}
			multiply_variable = { which = ai_value value = -1 }
		}
		add_entry = {
			name = FROM_IS_A_THEOCRACY
			limit = {
				FROM = {
					government = theocracy
				}
			}
			export_to_variable = {
				which = ai_value
				value = 50
			}
			multiply_variable = { which = ai_value value = -1 }
		}
		add_entry = {
			name = FROM_IS_EMPEROR
			limit = {
				FROM = {
					is_emperor = yes
				}
			}
			export_to_variable = {
				which = ai_value
				value = 1000
			}
			multiply_variable = { which = ai_value value = -1 }
		}
		add_entry = {
			name = FROM_IS_ALLIED_TO_EMPEROR
			limit = {
				FROM = {
					OR = {
						any_ally = {
							is_emperor = yes
						}
						guaranteed_by = emperor
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = 100
			}
			multiply_variable = { which = ai_value value = -1 }
		}
		add_entry = {
			name = FROM_HAS_STRONG_ALLIES
			limit = {
				FROM = {
					any_ally = {
						NOT = { tag = ROOT }
						army_size = 20
					}
					NOT = {
						calc_true_if = {
							all_ally = {
								NOT = { tag = ROOT }
								army_size = 20
							}
							amount = 2
						}
					}
					NOT = {
						any_ally = {
							NOT = { tag = ROOT }
							OR = {
								army_size = 100
								military_strength = { who = ROOT value = 2 }
							}
						}
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = 15
			}
			multiply_variable = { which = ai_value value = -1 }
		}
		add_entry = {
			name = FROM_HAS_SOME_MUSLIM_PROVINCES
			limit = {
				FROM = {
					OR = {
						num_of_religion = { religion = sunni value = 0.1 }
						num_of_religion = { religion = shiite value = 0.1 }
						num_of_religion = { religion = ibadi value = 0.1 }
					}
					NOT = { dominant_religion = sunni }
					NOT = { dominant_religion = shiite }
					NOT = { dominant_religion = ibadi }
				}
			}
			export_to_variable = {
				which = ai_value
				value = 10
			}
			multiply_variable = { which = ai_value value = -1 }
		}
		add_entry = {
			name = FROM_HAS_ROOT_DOMINANT_FAITH #Need Locali
			limit = {
				ROOT = { religion_group = muslim }
				FROM = {
					dominant_religion = ROOT
				}
			}
			export_to_variable = {
				which = ai_value
				value = 50
			}
		}
		add_entry = {
			name = FROM_HAS_FROM_DOMINANT_FAITH #Need Locali
			limit = {
				FROM = {
					dominant_religion = FROM
				}
			}
			export_to_variable = {
				which = ai_value
				value = 100
			}
			multiply_variable = { which = ai_value value = -1 }
		}
		add_entry = {
			name = ROOT_FROM_ARE_ALLIED
			limit = {
				alliance_with = FROM
			}
			export_to_variable = {
				which = ai_value
				value = 10
			}
		}
		add_entry = {
			name = ROOT_FROM_ARE_HISTORICAL_FRIENDS
			limit = {
				FROM = {
					historical_friend_with = ROOT
				}
			}
			export_to_variable = {
				which = ai_value
				value = 20
			}
		}
		add_entry = {
			name = ROOT_FROM_ARE_HISTORICAL_RIVALS
			limit = {
				FROM = {
					historical_rival_with = ROOT
				}
			}
			export_to_variable = {
				which = ai_value
				value = 1000
			}
			multiply_variable = { which = ai_value value = -1 }
		}
		add_entry = {
			name = FROM_ALLIED_TO_ROOT_RIVALS
			limit = {
				any_country = {
					OR = {
						alliance_with = FROM
						FROM = {
							guaranteed_by = PREV
						}
					}
					OR = {
						is_enemy = ROOT
						is_rival = ROOT
					}
				}
				NOT = {
					calc_true_if = {
						all_country = {
							OR = {
								alliance_with = FROM
								FROM = {
									guaranteed_by = PREV
								}
							}
							OR = {
								is_enemy = ROOT
								is_rival = ROOT
							}
						}
						amount = 2
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = -25
			}
			multiply_variable = { which = ai_value value = -1 }
		}
		add_entry = {
			name = FROM_ALLIED_TO_ROOT_RIVALS
			limit = {
				calc_true_if = {
					all_country = {
						OR = {
							alliance_with = FROM
							FROM = {
								guaranteed_by = PREV
							}
						}
						OR = {
							is_enemy = ROOT
							is_rival = ROOT
						}
					}
					amount = 2
				}
				NOT = {
					calc_true_if = {
						all_country = {
							OR = {
								alliance_with = FROM
								FROM = {
									guaranteed_by = PREV
								}
							}
							OR = {
								is_enemy = ROOT
								is_rival = ROOT
							}
						}
						amount = 3
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = -50
			}
			multiply_variable = { which = ai_value value = -1 }
		}
		add_entry = {
			name = FROM_ALLIED_TO_ROOT_RIVALS
			limit = {
				calc_true_if = {
					all_country = {
						OR = {
							alliance_with = FROM
							FROM = {
								guaranteed_by = PREV
							}
						}
						OR = {
							is_enemy = ROOT
							is_rival = ROOT
						}
					}
					amount = 3
				}
				NOT = {
					calc_true_if = {
						all_country = {
							OR = {
								alliance_with = FROM
								FROM = {
									guaranteed_by = PREV
								}
							}
							OR = {
								is_enemy = ROOT
								is_rival = ROOT
							}
						}
						amount = 4
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = -75
			}
			multiply_variable = { which = ai_value value = -1 }
		}
		add_entry = {
			name = FROM_ALLIED_TO_ROOT_RIVALS
			limit = {
				calc_true_if = {
					all_country = {
						OR = {
							alliance_with = FROM
							FROM = {
								guaranteed_by = PREV
							}
						}
						OR = {
							is_enemy = ROOT
							is_rival = ROOT
						}
					}
					amount = 4
				}
				NOT = {
					calc_true_if = {
						all_country = {
							OR = {
								alliance_with = FROM
								FROM = {
									guaranteed_by = PREV
								}
							}
							OR = {
								is_enemy = ROOT
								is_rival = ROOT
							}
						}
						amount = 5
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = -100
			}
			multiply_variable = { which = ai_value value = -1 }
		}
		add_entry = {
			name = FROM_ALLIED_TO_ROOT_RIVALS
			limit = {
				calc_true_if = {
					all_country = {
						OR = {
							alliance_with = FROM
							FROM = {
								guaranteed_by = PREV
							}
						}
						OR = {
							is_enemy = ROOT
							is_rival = ROOT
						}
					}
					amount = 5
				}
			}
			export_to_variable = {
				which = ai_value
				value = -1000
			}
			multiply_variable = { which = ai_value value = -1 }
		}
	}

	ai_will_do = {
		FROM = {
			OR = {
				is_subject_of = ROOT
				is_neighbor_of = ROOT
				alliance_with = ROOT
			}
			OR = {
				ai_attitude = { who = ROOT attitude = attitude_loyal }
				ai_attitude = { who = ROOT attitude = attitude_friendly }
				ai_attitude = { who = ROOT attitude = attitude_allied }
			}
			NOT = { religion = ROOT }
			NOT = { total_development = 200 }
			has_opinion = {
				who = ROOT
				value = 150
			}
		}
	}
}

ask_muslim_for_help_to_spread_religion = {
	category = influence

	require_acceptance = yes

	is_visible = {
		OR = {
			has_country_flag = muslim_pious_country
			has_country_flag = muslim_zealot_country
		}
		FROM = {
			religion = ROOT
			OR = {
				is_subject_of = ROOT
				alliance_with = ROOT
			}
			any_owned_province = {
				NOT = { religion_group = ROOT }
			}
			NOT = { has_country_flag = help_spreading_islam }
		}
	}

	is_allowed = {
		if = {
			limit = {
				FROM = { 
					is_subject_of = ROOT
					liberty_desire = 50 
				}
			}
			custom_trigger_tooltip = {
				tooltip = FROM_IS_REBELLIOUS_TT
				FROM = { liberty_desire = 50 }
			}
		}
		FROM = { 
			is_at_war = no 
			religion = ROOT
			NOT = {
				OR = {
					has_country_flag = muslim_pious_country
					has_country_flag = muslim_zealot_country
				}
			}
			OR = {
				is_subject_of = ROOT
				alliance_with = ROOT
			}
			any_owned_province = {
				NOT = { religion_group = ROOT }
			}
		}
	}

	on_accept = {
		if = {
			limit = {
				ROOT = { has_country_flag = muslim_pious_country }
			}
			FROM = {
				add_piety = -0.5
				add_country_modifier = {
					name = help_spreading_islam_pious_mod
					duration = -1
				}
			}
		}
		if = {
			limit = {
				ROOT = { has_country_flag = muslim_pious_country }
				FROM = { 
					OR = {
						full_idea_group = religious_ideas 
						has_idea_group = religious_ideas
					}
				}
			}
			FROM = {
				add_piety = 0.25
				add_country_modifier = {
					name = help_spreading_islam_pious_mod
					duration = -1
				}
			}
		}
		if = {
			limit = {
				ROOT = { has_country_flag = muslim_zealot_country }
			}
			FROM = {
				add_piety = 0.5
				add_country_modifier = {
					name = help_spreading_islam_zealot_mod
					duration = -1
				}
			}
		}
		FROM = { set_country_flag = help_spreading_islam }
	}


	ai_acceptance = {
        add_entry = {
            name = DIPLO_OPPINION
			export_to_variable = {
				variable_name = ai_value
				value = opinion
				who = FROM
				with = ROOT
			}
			multiply_variable = {
				which = ai_value 
				value = 0.2
			}
        }
		add_entry = {
			name = AI_TRUST_TOWARDS_ROOT
			export_to_variable = {
				variable_name = ai_value
				value = trust
				who = FROM
				with = ROOT
			}			
			subtract_variable = { 
				which = ai_value
				value = 50
			}
			#1 trust = +4 ai points
			multiply_variable = {
				which = ai_value
				value = 0.4
			}
		}
		add_entry = {
			name = AI_DIPLOMATIC_REPUTATION
			export_to_variable = {
				variable_name = ai_value
				value = trigger_value:diplomatic_reputation
			}
			#1 rep = 4
			multiply_variable = {
				which = ai_value
				value = 3
			}
		}
		add_entry = {
			name = AI_LIBERTY_DESIRE
			export_to_variable = {
				variable_name = ai_value
				value = liberty_desire
				who = FROM
			}
			multiply_variable = {
				which = ai_value
				value = -1
			}
		}
		add_entry = {
			name = PIOUS_TO_RELIGIOUS
			limit = {
				ROOT = { has_country_flag = muslim_pious_country }
				FROM = { 
					OR = {
						full_idea_group = religious_ideas 
						has_idea_group = religious_ideas
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = 10
			}
			multiply_variable = {
				which = ai_value
				value = -1
			}
		}
		add_entry = {
			name = PIOUS_TO_HUMANIST
			limit = {
				ROOT = { has_country_flag = muslim_pious_country }
				FROM = { 
					OR = {
						full_idea_group = humanist_ideas 
						has_idea_group = humanist_ideas
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = 50
			}
		}
		add_entry = {
			name = ZEALOT_TO_RELIGIOUS
			limit = {
				ROOT = { has_country_flag = muslim_zealot_country }
				FROM = { 
					OR = {
						full_idea_group = religious_ideas 
						has_idea_group = religious_ideas
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = 100
			}
		}
		add_entry = {
			name = ZEALOT_TO_HUMANIST
			limit = {
				ROOT = { has_country_flag = muslim_zealot_country }
				FROM = { 
					OR = {
						full_idea_group = humanist_ideas 
						has_idea_group = humanist_ideas
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = 30
			}
			multiply_variable = {
				which = ai_value
				value = -1
			}
		}
		add_entry = {
			name = FROM_RELIGION_IS_MINORITY
			limit = {
				FROM = {
					NOT = {
						dominant_religion = ROOT
					}
				}
			}
			export_to_variable = {
				which = ai_value
				value = 75
			}
			multiply_variable = {
				which = ai_value
				value = -1
			}
		}
		add_entry = {
			name = FROM_IS_ROOT_VASSAL
			limit = {
				FROM = {
					is_subject_of = ROOT
				}
			}
			export_to_variable = {
				which = ai_value
				value = 50
			}
		}
	}

	ai_will_do = {
		always = no
	}
}