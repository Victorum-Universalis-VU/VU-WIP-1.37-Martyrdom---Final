##############################
### Relative Power Classes ###
##############################
# 0 = none (vanilla)
# 1 = only their own (vanilla)
# 2 = vassals etc. (vanilla)
# 3 = revolution_subject
# 4 = persian_satrapy
# 5 = trade_outpost
# 6 = stato_da_mar_vassal
##############################

##############################
### Diplomacy View Classes ###
##############################
# 0 = none (vanilla)
# 1 = only their own (vanilla)
##############################

# Forward declaring all subject types so they can refer to each other in triggers etc.
protectorate = { }
puppet_state = { }
roman_client_kingdom = { }
voivodeship = { }
fief_subject = { }
crusader_state_vassal = { }
#salic_personal_union = { }
nahuatl_vassal = { }
peasant_vassal = { }
pirate_brotherhood_vassal = { }
imperial_tributary_state = { }
sister_republic = { }
muslim_tributary_vassal = { }
mandala_trade_vassal = { }
integrated_tribe_subject = { }
dutch_province_subject = { }
revolution_subject = { }
persian_satrapy = { }
naval_march = { }
trade_outpost = { }
integrated_personal_union = { }
brother_kingdom = { }
iqta_vassal = { }
papal_sanctuary_subject = { }
imperial_feud_subject = { }
pagan_chiefdom = { }
native_reserve = { }
administrative_region = { }
viking_settlement = { }
banking_family_subject = { }
palatinate_vassal = { }
defensive_march = { }
annexable_colony = { }
agricultural_march = { }
religious_march = { }
stato_da_mar_vassal = { }
medieval_vassal = { }

# Subjects
protectorate = {
	copy_from = default

	# Graphics:
	sprite = GFX_icon_protectorate
	diplomacy_overlord_sprite = GFX_diplomacy_leadprotectorate
	diplomacy_subject_sprite = GFX_diplomacy_amprotectorate

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		OR = {
			technology_group = western
			technology_group = dutch_tech_group
			technology_group = english_tech_group
			technology_group = french_tech_group
			technology_group = german_tech_group
			technology_group = italian_tech_group
			technology_group = portuguese_tech_group
			technology_group = roman_tech_group
			technology_group = scandinavian_tech_group
			technology_group = spanish_tech_group
			technology_group = swiss_tech_group
			technology_group = eastern
			technology_group = bohemian_tech_group
			technology_group = byzantine_tech_group
			technology_group = hungarian_tech_group
			technology_group = polish_tech_group
			technology_group = russian_tech_group
			technology_group = bulgarian_tech_group
			#VU - Hashed this out as it has nothing to do with our mod. By San Felipe
			#AND = {
			#	has_global_flag = extended_timeline_mod
			#}
		}
	}

	# Properties:
	transfer_trade_power = yes
	joins_overlords_wars = no
	joins_colonial_wars = yes
	overlord_can_attack = no
	can_have_subjects_of_other_types = yes
	takes_diplo_slot = no
	uses_military_focus = no
	overlord_protects_external = yes
	counts_for_borders = no
	can_use_claims = no
	share_rebel_popup = no
	allows_taking_land_without_independence = yes
	can_transfer_in_peace = no
	can_set_mil_focus = no
	can_send_missionary_to_subject = no
	does_overlord_size_count_for_warscore_cost = no
	can_concentrate_development = no
	can_have_great_projects_moved_by_overlord = no
	extend_trading_range = yes

	cities_required_for_bonuses = 0 #25
	trust_on_start = 5

	liberty_desire_development_ratio = 0.1
	military_focus = 0.5

	relative_power_class = 0
	diplomacy_view_class = 1

	should_quit_wars_on_activation = no

	can_fight = {
		independent_nations = yes
		other_overlord = all
	}
	can_rival = {
		independent_nations = yes
		other_overlord = all
	}
	can_ally = {
		same_overlord = protectorate
	}
	can_marry = {
		independent_nations = yes
		same_overlord = all
		other_overlord = all
	}

	# Subject Interactions:
	# (continuous)
	embargo_rivals = no
	divert_trade = yes
	# (immediate)
	siphon_income = yes
	bestow_gifts = yes
	seize_territory = yes

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = protectorate_modifier
	}
	modifier_subject = {
		trigger = {
			FROM = {
				institution_difference = { who = ROOT value = 3 }
			}
		}
		modifier = protectorate_institution_modifier_3
	}
	modifier_subject = {
		trigger = {
			FROM = {
				institution_difference = { who = ROOT value = 2 }
				NOT = {
					institution_difference = { who = ROOT value = 3 }
				}
			}
		}
		modifier = protectorate_institution_modifier_2
	}
	modifier_subject = {
		trigger = {
			FROM = {
				institution_difference = { who = ROOT value = 1 }
				NOT = {
					institution_difference = { who = ROOT value = 2 }
				}
			}
		}
		modifier = protectorate_institution_modifier_1
	}
	modifier_subject = {
		trigger = {
			NOT = { adm_tech = FROM }
		}
		modifier = protectorate_adm_tech_modifier
	}
	modifier_subject = {
		trigger = {
			NOT = { dip_tech = FROM }
		}
		modifier = protectorate_dip_tech_modifier
	}
	modifier_subject = {
		trigger = {
			NOT = { mil_tech = FROM }
		}
		modifier = protectorate_mil_tech_modifier
	}
	modifier_subject = {
		trigger = {
			adm_tech = FROM
			FROM = { adm_tech = ROOT }
		}
		modifier = protectorate_adm_liberty_desire_modifier
	}
	modifier_subject = {
		trigger = {
			dip_tech = FROM
			FROM = { dip_tech = ROOT }
		}
		modifier = protectorate_dip_liberty_desire_modifier
	}
	modifier_subject = {
		trigger = {
			mil_tech = FROM
			FROM = { mil_tech = ROOT }
		}
		modifier = protectorate_mil_liberty_desire_modifier
	}
	modifier_subject = {
		trigger = {
			FROM = { NOT = { adm_tech = ROOT } }
		}
		modifier = protectorate_advanced_adm_liberty_desire_modifier
	}
	modifier_subject = {
		trigger = {
			FROM = { NOT = { dip_tech = ROOT } }
		}
		modifier = protectorate_advanced_dip_liberty_desire_modifier
	}
	modifier_subject = {
		trigger = {
			FROM = { NOT = { mil_tech = ROOT } }
		}
		modifier = protectorate_advanced_mil_liberty_desire_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = large_colonial_nation
		trigger = {
			num_of_cities = 25
		}
	}

	overlord_opinion_modifier = is_protectorate
	subject_opinion_modifier = is_protectorate
}

puppet_state = {
	copy_from = default
	count = vassal

	# Graphics:
	sprite = GFX_icon_puppet
	diplomacy_overlord_sprite = GFX_diplomacy_leadpuppet
	diplomacy_subject_sprite = GFX_diplomacy_ampuppet

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		is_nomad = no
		is_tribal = no
		primitives = no
		legitimacy_equivalent = 50
		total_development = 300
	}

	# Properties:
	can_be_annexed = yes
	has_power_projection = no
	can_transfer_in_peace = no
	extend_trading_range = yes

	max_government_rank = 1
	cities_required_for_bonuses = 0 #0
	trust_on_start = 35

	base_liberty_desire = -15.0
	liberty_desire_development_ratio = 0.2
	forcelimit_to_overlord = 0.2
	military_focus = 1.0

	relative_power_class = 2
	diplomacy_view_class = 1

	can_rival = {
		other_overlord = puppet_state
	}

	# Subject Interactions:
	# (continuous)
	support_loyalists = yes
	subsidize_armies = yes
	# (immediate)
	placate_rulers = yes
	replace_governor = yes
	fortify_march = yes
	seize_territory = yes
	send_additional_troops = yes

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = puppet_state_modifier
		trigger = {
			NOT = { development_of_overlord_fraction = 0.33 }
		}
		expiration_message_overlord = MARCHTOOLARGE
		expiration_message_subject = MARCHTOOLARGEUS
	}
	modifier_subject = {
		modifier = puppet_state_overlord_has_parliament_modifier
		trigger = {
			FROM = {
				government = monarchy
				has_parliament = yes
			}
		}
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = puppet_state_overlord_modifier
	}
	modifier_overlord = {
		modifier = vassal_subject
	}

	overlord_opinion_modifier = is_puppet_state
	subject_opinion_modifier = is_puppet_state
}

roman_client_kingdom = {
	copy_from = default
	count = vassal

	# Graphics:
	sprite = GFX_icon_roman_client_kingdom
	diplomacy_overlord_sprite = GFX_diplomacy_leadroman_client_kingdom
	diplomacy_subject_sprite = GFX_diplomacy_amroman_client_kingdom

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		OR = {
			tag = ROM
			tag = BYZ
			AND = {
				is_playing_custom_nation = yes
				primary_culture = roman
			}
			#VU - Hashed this out as it has nothing to do with our mod. By San Felipe
			#AND = {
			#	has_global_flag = extended_timeline_mod
			#	#tag = ROW
			#}
		}
		#NOT = { has_reform = salic_reform }
	}

	# Properties:
	can_be_annexed = yes
	takes_diplo_slot = yes
	overlord_enforce_peace_attacking = yes
	gets_help_with_rebels = yes
	allows_taking_land_without_independence = no
	extend_trading_range = yes

	max_government_rank = 2

	base_liberty_desire = -10.0
	liberty_desire_development_ratio = 0.25
	liberty_desire_same_dynasty = -5.0
	pays_overlord = 2.0
	forcelimit_to_overlord = 0.33
	military_focus = 1.0

	relative_power_class = 2
	diplomacy_view_class = 1

	can_fight = {
		neighboring_primitives = yes
		other_overlord = all
	}
	can_rival = {
		other_overlord = all
		independent_nations = yes
	}
	can_ally = {
		same_overlord = roman_client_kingdom
	}
	can_marry = {
		same_overlord = roman_client_kingdom
	}

	restoration_cb = cb_disloyal_vassal

	# Subject Interactions:
	# (continuous)
	support_loyalists = yes
	# (immediate)
	enforce_culture = yes
	seize_territory = yes

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = roman_client_kingdom_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = roman_client_kingdom_overlord_modifier
	}
	modifier_overlord = {
		trigger = {
			any_neighbor_country = {
				OR = {
					is_rival = FROM
					is_enemy = FROM
				}
			}
		}
		modifier = roman_client_kingdom_no_dip_upkeep_cost_modifier
	}
	modifier_overlord = {
		trigger = {
			FROM = {
				# for some fucking reason checking for anything connected to colonists fucking crashes when loading a save, jesus fuck, PDX
				custom_trigger_tooltip = {
					tooltip = NEVER_HAD_A_COLONIST
					NOT = { has_country_flag = once_had_a_colonist }
				}
			}
		}
		modifier = roman_client_kingdom_extra_range_modifier
	}

	overlord_opinion_modifier = is_roman_client_kingdom
	subject_opinion_modifier = is_roman_client_kingdom
}

voivodeship = {
	copy_from = default
	count = vassal

	# Graphics:
	sprite = GFX_icon_voivodeship
	diplomacy_overlord_sprite = GFX_diplomacy_leadvoivodeship
	diplomacy_subject_sprite = GFX_diplomacy_amvoivodeship

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		OR = {
			tag = POL
			tag = PLC
			primary_culture = polish
		}
	}

	# Properties:
	can_be_annexed = yes
	has_power_projection = no
	can_transfer_in_peace = no
	extend_trading_range = yes

	max_government_rank = 1
	cities_required_for_bonuses = 0 #0
	trust_on_start = 35

	base_liberty_desire = -15.0
	liberty_desire_development_ratio = 0.25
	liberty_desire_same_dynasty = -5.0
	forcelimit_to_overlord = 0.33
	military_focus = 1.5

	relative_power_class = 1 #VU update on Prussia's suggestions for potential future changes. By SF
	diplomacy_view_class = 1

	restoration_cb = cb_disloyal_vassal

	# Subject Interactions:
	# (continuous)
	subsidize_armies = yes
	# (immediate)
	enforce_culture = yes
	placate_rulers = yes
	fortify_march = yes
	seize_territory = yes
	send_additional_troops = yes

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = voivodeship_modifier
		trigger = {
			NOT = { development_of_overlord_fraction = 0.33 }
		}
		expiration_message_overlord = MARCHTOOLARGE
		expiration_message_subject = MARCHTOOLARGEUS
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = vassal_subject
	}

	overlord_opinion_modifier = is_voivodeship
	subject_opinion_modifier = is_voivodeship
}

fief_subject = {
	copy_from = default
	count = vassal

	# Graphics:
	sprite = GFX_icon_fief_subject
	diplomacy_overlord_sprite = GFX_diplomacy_leadfief_subject
	diplomacy_subject_sprite = GFX_diplomacy_amfief_subject

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		government = monarchy
		OR = {
			has_reform = feudalism_reform
			# Governments Expanded reforms
			#has_reform = french_feudalism
			has_reform = ancien_regime_reform
			has_reform = arch_monarchy_reform
			has_reform = grand_duchy_reform
			has_reform = lithuania_warlord_duke
			has_reform = beylik_government
			has_reform = kingdom_of_castille_and_leon
			has_reform = crown_of_castille
			has_reform = hispanic_kingdom
			has_reform = crown_of_aragon
			has_reform = portuguese_monarchy_reform
			has_reform = kingdom_of_portugal_and_azures
			has_reform = crown_of_saint_wenceslaus
			has_reform = office_of_lord_regent_reform
			has_reform = arch_king_reform
			has_reform = austrian_archduchy_reform
			has_reform = habsburg_monarchy_reform
			has_reform = austrian_empire_reform
			has_reform = granadan_iqta_reform
			# Extended Timeline reforms
			#has_reform = salic_reform
			#has_reform = imperial_march_reform
		}
	}

	# Properties:
	transfer_trade_if_merchant_republic = yes
	joins_overlords_wars = no
	can_be_annexed = yes
	overlord_can_attack = no
	overlord_can_be_subject = yes
	can_use_claims = no
	overlord_can_fabricate_for = no
	has_power_projection = no
	gets_help_with_rebels = yes
	extend_trading_range = yes

	max_government_rank = 1
	cities_required_for_bonuses = 0 #0
	trust_on_start = 50

	base_liberty_desire = -5.0
	liberty_desire_negative_prestige = 1.0
	liberty_desire_development_ratio = 0.25
	liberty_desire_same_dynasty = -5.0
	pays_overlord = 2.0
	forcelimit_to_overlord = 0.1

	relative_power_class = 2
	diplomacy_view_class = 1

	restoration_cb = cb_disloyal_vassal

	can_ally = {
		same_overlord = brother_kingdom
		same_overlord = medieval_vassal
	}
	can_marry = {
		same_overlord = brother_kingdom
		same_overlord = medieval_vassal
	}

	# Subject Interactions:
	divert_trade = no
	place_relative_on_throne = yes
	sacrifice_ruler = yes
	sacrifice_heir = yes
	seize_territory = yes
	siphon_income = yes
	conscript_general = yes
	enforce_culture = yes

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = vassal_nation
	}
	modifier_subject = {
		modifier = fief_subject_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = vassal_subject
	}
	modifier_overlord = {
		modifier = fief_subject_overlord_modifier
	}
	modifier_overlord = {
		#VU - Hashed this out as it has nothing to do with our mod. By San Felipe
		#trigger = {
		#	has_global_flag = extended_timeline_mod
		#}
		modifier = fief_subject_no_slot_cost_overlord_modifier
	}

	overlord_opinion_modifier = is_fief_subject
	subject_opinion_modifier = is_fief_subject
}

crusader_state_vassal = {
	copy_from = default
	count = march

	# Graphics:
	sprite = GFX_icon_crusader_state_vassal
	diplomacy_overlord_sprite = GFX_diplomacy_leadcrusader_state_vassal
	diplomacy_subject_sprite = GFX_diplomacy_amcrusader_state_vassal

	# Triggers:
	is_potential_overlord = {
		OR = {
			tag = PAP
			tag = KOJ
			has_reform = monastic_order_reform
			has_reform = crusader_kingdom
		}
		religion = catholic
		is_excommunicated = no
		capital_scope = {
			OR = {
				continent = europe
				province_id = 379
			}
		}
		NOT = {
			calc_true_if = {
				all_subject_country = {
					is_subject_of_type = crusader_state_vassal
				}
				amount = 3
			}
		}
	}

	# Properties:
	transfer_trade_if_merchant_republic = yes
	overlord_can_attack = no
	has_power_projection = no
	gets_help_with_rebels = yes
	can_transfer_in_peace = no
	can_set_mil_focus = yes
	can_send_missionary_to_subject = yes
	extend_trading_range = yes
	overlord_can_be_subject = yes

	max_government_rank = 2
	cities_required_for_bonuses = 0 #0
	trust_on_start = 50

	base_liberty_desire = -15.0
	liberty_desire_development_ratio = 0.25
	liberty_desire_same_dynasty = -5.0
	pays_overlord = 0.5
	forcelimit_to_overlord = 0.1
	military_focus = 1.25

	relative_power_class = 2
	diplomacy_view_class = 1

	can_rival = {
		other_overlord = all
		independent_nations = yes
	}
	can_ally = {
		same_overlord = crusader_state_vassal
	}
	can_marry = {
		same_overlord = crusader_state_vassal
	}

	# Subject Interactions:
	# (continuous)
	subsidize_armies = yes
	send_officers = yes
	# (immediate)
	fortify_march = yes
	takeondebt = yes
	bestow_gifts = yes
	send_additional_troops = yes
	return_land = yes

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = crusader_state_vassal_modifier
	}
	modifier_subject = {
		trigger = {
			FROM = {
				is_papal_controller = yes
			}
		}
		modifier = crusader_state_vassal_overlord_is_papal_controller_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = crusader_state_vassal_overlord_modifier
	}
	modifier_overlord = {
		modifier = vassal_subject
	}

	overlord_opinion_modifier = is_crusader_state_vassal
	subject_opinion_modifier = is_crusader_state_vassal
}

#salic_personal_union = {
#	copy_from = personal_union
#	count = personal_union
#
#	# Graphics:
#	sprite = GFX_court_union
#	diplomacy_overlord_sprite = GFX_diplomacy_leadunions
#	diplomacy_subject_sprite = GFX_diplomacy_inunion
#
#	# Triggers:
#	is_potential_overlord = {
#		is_subject = no
#		#has_reform = salic_reform
#	}
#
#	# Properties:
#	can_be_integrated = no
#	can_be_annexed = yes
#}

nahuatl_vassal = {
	copy_from = vassal
	count = vassal

	# Graphics:
	sprite = GFX_icon_nahuatl_vassal
	diplomacy_overlord_sprite = GFX_diplomacy_leadnahuatl_vassal
	diplomacy_subject_sprite = GFX_diplomacy_amnahuatl_vassal

	# Triggers:
	is_potential_overlord = {
		has_dlc = "El Dorado"
		religion = nahuatl
		is_religion_reformed = no
	}

	# Properties:
	takes_diplo_slot = no
	overlord_can_be_subject = yes

	max_government_rank = 1

	base_liberty_desire = -10.0

	relative_power_class = 2
	diplomacy_view_class = 1

	restoration_cb = cb_disloyal_vassal

	# Subject Interactions:
	scutage = no

	# Modifiers:
	modifier_subject = {
		trigger = {
			FROM = {
				NOT = { can_be_overlord = nahuatl_vassal }
			}
		}
		modifier = nahuatl_vassal_modifier
	}

	modifier_overlord = {
		trigger = {
			NOT = { liberty_desire = 50 }
		}
		modifier = nahuatl_vassal_overlord_modifier
	}
	modifier_overlord = {
		trigger = {
			marriage_with = FROM
		}
		modifier = royal_marriage_no_slot_cost_modifier
	}

	overlord_opinion_modifier = is_nahuatl_vassal
	subject_opinion_modifier = is_nahuatl_vassal
}

peasant_vassal = {
	copy_from = default
	count = vassal

	# Graphics:
	sprite = GFX_icon_peasant_vassal
	diplomacy_overlord_sprite = GFX_diplomacy_leadpeasant_vassal
	diplomacy_subject_sprite = GFX_diplomacy_ampeasant_vassal

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		primitives = no
		has_reform = peasants_republic
	}

	# Properties:
	joins_overlords_wars = no
	can_send_tribute = yes
	can_be_integrated = yes
	uses_military_focus = no
	overlord_protects_external = yes
	overlord_enforce_peace_attacking = yes
	allows_taking_land_without_independence = yes
	can_transfer_in_peace = yes
	can_set_mil_focus = no
	can_send_missionary_to_subject = yes
	overlord_can_fabricate_for = no
	does_overlord_size_count_for_warscore_cost = no
	can_concentrate_development = no
	can_have_great_projects_moved_by_overlord = no

	max_government_rank = 1

	base_liberty_desire = 0.0
	liberty_desire_negative_prestige = 1.0
	liberty_desire_development_ratio = 0.33
	liberty_desire_same_dynasty = -5.0
	pays_overlord = 0.0
	forcelimit_to_overlord = 0.33

	relative_power_class = 2
	diplomacy_view_class = 1

	should_quit_wars_on_activation = no

	can_fight = {
		independent_nations = yes
		other_overlord = all
		same_overlord = banking_family_subject
	}
	can_rival = {
		independent_nations = yes
		other_overlord = all
		same_overlord = banking_family_subject
	}
	can_ally = {
		same_overlord = peasant_vassal
	}
	can_marry = {
	}

	# Subject Interactions:
	# (continuous)
	support_loyalists = yes
	# (immediate)
	placate_rulers = no
	enforce_religion = yes
	replace_governor = yes
	grant_province = yes
	enforce_culture = yes
	siphon_income = yes
	seize_territory = yes
	bestow_gifts = yes
	contribute_to_capital = yes

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = peasant_vassal_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = peasant_vassal_overlord_modifier
	}
	modifier_overlord = {
		modifier = vassal_subject
	}

	overlord_opinion_modifier = is_peasant_vassal
	subject_opinion_modifier = is_peasant_vassal
}

pirate_brotherhood_vassal = {
	copy_from = default
	count = vassal

	# Graphics:
	sprite = GFX_icon_pirate_brotherhood_vassal
	diplomacy_overlord_sprite = GFX_diplomacy_leadpirate_brotherhood_vassal
	diplomacy_subject_sprite = GFX_diplomacy_ampirate_brotherhood_vassal

	# Triggers:
	is_potential_overlord = {
		has_dlc = "Golden Century"
		OR = {
			has_reform = pirate_republic_reform
			has_reform = pirate_king_reform
			has_reform = war_against_the_world_doctrine_reform
		}
		num_of_ports = 3
		navy_size = 20
	}

	# Properties:
	uses_tariffs = yes
	overlord_can_attack = no
	overlord_can_be_subject = yes
	can_have_subjects_of_other_types = yes
	can_be_annexed = yes
	separatists_become_subjects = yes
	extend_trading_range = yes

	max_government_rank = 0
	cities_required_for_bonuses = 0 #0
	trust_on_start = 25

	base_liberty_desire = -20.0
	liberty_desire_development_ratio = 0.15
	forcelimit_to_overlord = 0.2
	naval_forcelimit_to_overlord = 0.5
	military_focus = 1.0

	relative_power_class = 1
	diplomacy_view_class = 1

	can_fight = {
		same_overlord = pirate_brotherhood_vassal
		other_overlord = pirate_brotherhood_vassal
		neighboring_primitives = yes
		colonial_region_nations = yes
	}
	can_rival = {
		same_overlord = pirate_brotherhood_vassal
		other_overlord = pirate_brotherhood_vassal
		neighboring_primitives = yes
		colonial_region_nations = yes
	}
	can_ally = {
		same_overlord = pirate_brotherhood_vassal
		other_overlord = pirate_brotherhood_vassal
	}
	can_marry = {
		same_overlord = pirate_brotherhood_vassal
		other_overlord = pirate_brotherhood_vassal
	}

	# Subject Interactions:
	# (continuous)
	subsidize_armies = yes
	scutage = yes
	divert_trade = yes
	# (immediate)
	enforce_religion = no
	siphon_income = yes
	seize_territory = yes
	increase_tariffs = yes
	decrease_tariffs = yes
	takeondebt = no
	demand_artifacts = yes
	knowledge_sharing = no

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = pirate_brotherhood_vassal_modifier
	}
	modifier_subject = {
		trigger = {
			navy_size = FROM
		}
		modifier = pirate_brotherhood_vassal_large_navy_modifier
	}
	modifier_subject = {
		trigger = {
			NOT = { navy_size = FROM }
			navy_size = 50
		}
		modifier = pirate_brotherhood_vassal_small_large_navy_modifier
	}
	modifier_subject = {
		trigger = {
			FROM = {
				has_country_modifier = has_5_pirate_brotherhood_vassals_triggered_modifier
			}
		}
		modifier = pirate_brotherhood_vassal_overlord_has_many_pirate_brotherhood_vassals_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = pirate_brotherhood_vassal_overlord_modifier
	}
	modifier_overlord = {
		modifier = vassal_subject
	}

	overlord_opinion_modifier = is_pirate_brotherhood_vassal
	subject_opinion_modifier = is_pirate_brotherhood_vassal
}

imperial_tributary_state = {
	copy_from = default
	count = tributary_state

	# Graphics:
	sprite = GFX_icon_imperial_tributary_state
	diplomacy_overlord_sprite = GFX_diplomacy_leadimperial_tributary_state
	diplomacy_subject_sprite = GFX_diplomacy_amimperial_tributary_state

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		OR = {
			tag = ROM
			AND = {
				OR = {
					government_rank = 3
					AND = {
						NOT = { has_dlc = "Common Sense" }
						total_development = 1000
						is_part_of_hre = no
					}
				}
				capital_scope = {
					continent = europe
				}
			}
		}
	}

	# Properties:
	is_voluntary = yes
	transfer_trade_if_merchant_republic = yes
	joins_overlords_wars = yes
	overlord_can_attack = no
	can_have_subjects_of_other_types = yes
	takes_diplo_slot = no
	overlord_protects_external = yes
	can_use_claims = no
	allows_taking_land_without_independence = yes
	can_send_missionary_to_subject = no
	overlord_can_fabricate_for = no
	does_overlord_size_count_for_warscore_cost = no
	can_concentrate_development = no
	can_have_great_projects_moved_by_overlord = no

	max_government_rank = 2

	liberty_desire_negative_prestige = 0.5
	liberty_desire_development_ratio = 0.175
	liberty_desire_same_dynasty = -5.0
	pays_overlord = 1
	forcelimit_to_overlord = 0.2

	relative_power_class = 1
	diplomacy_view_class = 1

	should_quit_wars_on_activation = no

	can_fight = {
		other_overlord = all
		same_overlord = imperial_tributary_state
		independent_nations = yes
	}
	can_rival = {
		other_overlord = all
		same_overlord = imperial_tributary_state
		independent_nations = yes
	}
	can_ally = {
		other_overlord = all
		same_overlord = imperial_tributary_state
		independent_nations = yes
	}
	can_marry = {
		other_overlord = all
		same_overlord = imperial_tributary_state
		independent_nations = yes
	}

	# Subject Interactions:
	# (continuous)
	embargo_rivals = no
	support_loyalists = yes
	subsidize_armies = yes
	send_officers = yes
	# (immediate)
	enforce_religion = no
	seize_territory = yes
	demand_additional_tribute = yes
	conscript_general = yes

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = imperial_tributary_state_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = imperial_tributary_state_overlord_modifier
	}

	overlord_opinion_modifier = is_imperial_tributary_state
	subject_opinion_modifier = is_imperial_tributary_state
}

sister_republic = {
	copy_from = default
	count = personal_union

	# Graphics:
	sprite = GFX_icon_sister_republic
	diplomacy_overlord_sprite = GFX_diplomacy_leadsister_republic
	diplomacy_subject_sprite = GFX_diplomacy_amsister_republic

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		OR = {
			government = republic
			government = theocracy
		}
		is_nomad = no
		primitives = no
		NOT = { has_subject_of_type = sister_republic }
	}

	# Properties:
	has_overlords_ruler = yes
	can_be_integrated = yes
	overlord_can_attack = no
	can_have_subjects_of_other_types = yes
	takes_diplo_slot = no
	overlord_protects_external = yes
	gets_help_with_rebels = yes
	allows_taking_land_without_independence = yes
	can_transfer_in_peace = no
	can_concentrate_development = no
	can_have_great_projects_moved_by_overlord = no
	extend_trading_range = yes

	trust_on_start = 60

	base_liberty_desire = -5.0
	liberty_desire_negative_prestige = 1.5
	military_focus = 0.66

	relative_power_class = 1
	diplomacy_view_class = 1

	should_quit_wars_on_activation = no

	can_fight = {
		independent_nations = yes
		other_overlord = all
	}
	can_rival = {
		independent_nations = yes
		other_overlord = all
	}
	can_ally = {
		independent_nations = yes
		other_overlord = all
	}
	can_marry = {
		independent_nations = yes
		other_overlord = all
	}

	restoration_cb = cb_disloyal_vassal

	# Subject Interactions:
	# (continuous)
	support_loyalists = yes
	send_officers = yes
	# (immediate)
	placate_rulers = no
	enforce_religion = yes
	enforce_culture = yes
	siphon_income = yes
	seize_territory = yes
	send_additional_troops = yes
	block_settlement_growth = no
	allow_settlement_growth = no

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		trigger = {
			NOT = { liberty_desire = 50 }
		}
		modifier = sister_republic_modifier
	}
	modifier_subject = {
		trigger = {
			NOT = { development_of_overlord_fraction = 0.25 }
		}
		modifier = sister_republic_low_dev_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		trigger = {
			NOT = { liberty_desire = 50 }
		}
		modifier = sister_republic_overlord_modifier
	}
	modifier_overlord = {
		trigger = {
			marriage_with = FROM
		}
		modifier = royal_marriage_no_slot_cost_modifier
	}

	overlord_opinion_modifier = is_sister_republic
	subject_opinion_modifier = is_sister_republic
}

muslim_tributary_vassal = {
	copy_from = default
	count = vassal

	# Graphics:
	sprite = GFX_icon_muslim_tributary_vassal
	diplomacy_overlord_sprite = GFX_diplomacy_leadmuslim_tributary_vassal
	diplomacy_subject_sprite = GFX_diplomacy_ammuslim_tributary_vassal

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		religion_group = muslim
		OR = {
			government_rank = 2
			AND = {
				NOT = { has_dlc = "Common Sense" }
				total_development = 300
			}
		}
		OR = {
			government = monarchy
			has_reform = ottoman_government
			government = theocracy
		}
	}

	# Properties:
	transfer_trade_if_merchant_republic = yes
	overlord_can_attack = no
	can_send_tribute = yes
	has_power_projection = no
	uses_military_focus = no
	overlord_enforce_peace_attacking = yes
	can_use_claims = no
	share_rebel_popup = no
	allows_taking_land_without_independence = yes
	can_set_mil_focus = no
	can_send_missionary_to_subject = no
	overlord_can_fabricate_for = no

	max_government_rank = 2
	cities_required_for_bonuses = 0 #0
	trust_on_start = 0

	liberty_desire_development_ratio = 0.175

	relative_power_class = 1
	diplomacy_view_class = 1

	can_fight = {
		neighboring_primitives = yes
		same_overlord = muslim_tributary_vassal
		same_overlord = tributary_state
		other_overlord = muslim_tributary_vassal
		other_overlord = tributary_state
		other_overlord = iqta_vassal
	}
	can_rival = {
		neighboring_primitives = yes
		same_overlord = muslim_tributary_vassal
		same_overlord = tributary_state
		other_overlord = muslim_tributary_vassal
		other_overlord = tributary_state
		other_overlord = iqta_vassal
	}
	can_ally = {
		same_overlord = muslim_tributary_vassal
	}
	can_marry = {
		neighboring_primitives = yes
		same_overlord = muslim_tributary_vassal
		same_overlord = tributary_state
		other_overlord = muslim_tributary_vassal
		other_overlord = tributary_state
	}

	# Subject Interactions:
	# (continuous)
	send_officers = yes
	divert_trade = yes
	# (immediate)
	place_relative_on_throne = yes
	enforce_religion = no
	grant_province = yes
	fortify_march = yes
	send_additional_troops = yes
	demand_additional_tribute = yes
	contribute_to_capital = yes
	conscript_general = yes

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = muslim_tributary_vassal_modifier
	}
	modifier_subject = {
		trigger = {
			religion_group = FROM
		}
		modifier = muslim_tributary_vassal_same_religion_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = muslim_tributary_vassal_overlord_modifier
	}

	overlord_opinion_modifier = is_muslim_tributary_vassal
	subject_opinion_modifier = is_muslim_tributary_vassal
}

mandala_trade_vassal = {
	copy_from = default
	count = vassal

	# Graphics:
	sprite = GFX_icon_mandala_trade_vassal
	diplomacy_overlord_sprite = GFX_diplomacy_leadmandala_trade_vassal
	diplomacy_subject_sprite = GFX_diplomacy_ammandala_trade_vassal

	# Triggers:
	is_potential_overlord = {
		government = monarchy
		OR = {
			AND = {
				OR = {
					is_subject = no
					is_subject_of_type = tributary_state
				}
				OR = {
					culture_group = malay
					culture_group = southeastasian_group
					culture_group = burman
					culture = sinhala
					has_reform = mandala_reform
					# Governments Expanded
					has_reform = basic_reformed_mandala_reform
					has_reform = solar_kingdom_reform
				}
			}
			is_subject_of_type = mandala_trade_vassal
		}
		capital_scope = {
			continent = asia
		}
	}

	# Properties:
	can_send_tribute = yes
	transfer_trade_power = yes
	overlord_can_be_subject = yes
	can_have_subjects_of_other_types = yes
	uses_military_focus = no
	overlord_enforce_peace_attacking = yes
	allows_taking_land_without_independence = yes
	can_transfer_in_peace = no
	can_set_mil_focus = no
	can_send_missionary_to_subject = no
	does_overlord_size_count_for_warscore_cost = no
	can_concentrate_development = no
	can_have_great_projects_moved_by_overlord = no
	extend_trading_range = yes

	cities_required_for_bonuses = 0 #15
	trust_on_start = 25

	liberty_desire_negative_prestige = 0.5
	liberty_desire_development_ratio = 0.2
	military_focus = 0.66

	relative_power_class = 1
	diplomacy_view_class = 1

	can_fight = {
		neighboring_primitives = yes
		other_overlord = mandala_trade_vassal
		other_overlord = tributary_state
		other_overlord = banking_family_subject
		same_overlord = mandala_trade_vassal
		same_overlord = tributary_state
		same_overlord = banking_family_subject
	}
	can_rival = {
		neighboring_primitives = yes
		other_overlord = mandala_trade_vassal
		other_overlord = tributary_state
		other_overlord = banking_family_subject
		same_overlord = mandala_trade_vassal
		same_overlord = tributary_state
		same_overlord = banking_family_subject
	}
	can_ally = {
		neighboring_primitives = yes
		other_overlord = mandala_trade_vassal
		other_overlord = tributary_state
		other_overlord = banking_family_subject
		same_overlord = mandala_trade_vassal
		same_overlord = tributary_state
		same_overlord = banking_family_subject
	}
	can_marry = {
		neighboring_primitives = yes
		other_overlord = mandala_trade_vassal
		other_overlord = tributary_state
		other_overlord = banking_family_subject
		same_overlord = mandala_trade_vassal
		same_overlord = tributary_state
		same_overlord = banking_family_subject
	}

	# Subject Interactions:
	# (continuous)
	divert_trade = yes
	# (immediate)
	enforce_religion = no
	siphon_income = yes
	grant_core_claim = no
	sacrifice_ruler = yes
	sacrifice_heir = yes
	takeondebt = no
	send_additional_troops = yes
	demand_artifacts = yes
	demand_additional_tribute = yes
	conscript_general = yes

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = mandala_trade_vassal_modifier
	}
	modifier_subject = {
		trigger = {
			army_size = FROM
		}
		modifier = mandala_trade_vassal_large_army_modifier
	}
	modifier_subject = {
		trigger = {
			army_size = 70
		}
		modifier = mandala_trade_vassal_large_army_modifier
	}
	modifier_subject = {
		trigger = {
			FROM = {
				any_owned_province = {
					is_strongest_trade_power = ROOT
				}
			}
		}
		modifier = mandala_trade_vassal_is_strongest_trade_power_modifier
	}
	modifier_subject = {
		trigger = {
			has_subject_of_type = mandala_trade_vassal
		}
		modifier = mandala_trade_vassal_has_mandalas_on_its_own_modifier
	}
	modifier_subject = {
		trigger = {
			prestige = FROM
		}
		modifier = mandala_trade_vassal_high_prestige_modifier
	}
	modifier_subject = {
		trigger = {
			legitimacy_equivalent = FROM
		}
		modifier = mandala_trade_vassal_high_legitimacy_modifier
	}
	modifier_subject = {
		trigger = {
			FROM = {
				NOT = { legitimacy_equivalent = 50 }
			}
		}
		modifier = mandala_trade_vassal_overlord_has_low_legitimacy_modifier
	}
	modifier_subject = {
		trigger = {
			num_of_cities = 25
		}
		modifier = mandala_trade_vassal_large_amount_of_cities_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = mandala_trade_vassal_overlord_modifier
	}
	modifier_overlord = {
		modifier = large_colonial_nation
		trigger = {
			num_of_cities = 15
		}
	}

	overlord_opinion_modifier = is_mandala_trade_vassal
	subject_opinion_modifier = is_mandala_trade_vassal
}

integrated_tribe_subject = {
	copy_from = default
	count = vassal

	# Graphics:
	sprite = GFX_icon_integrated_tribe_subject
	diplomacy_overlord_sprite = GFX_diplomacy_leadintegrated_tribe_subject
	diplomacy_subject_sprite = GFX_diplomacy_amintegrated_tribe_subject

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		OR = {
			government = tribal
			AND = {
				culture_group = caucasian
				capital_scope = {
					region = caucasia_region
				}
				NOT = { current_age = age_of_reformation }
				NOT = { current_age = age_of_absolutism }
				NOT = { current_age = age_of_revolutions }
				#VU - Hashed this out as it has nothing to do with our mod. By San Felipe
				#NOT = { has_global_flag = extended_timeline_mod }
			}
		}
	}

	# Properties:
	can_send_tribute = yes
	overlord_can_attack = no
	uses_military_focus = no
	can_be_annexed = yes
	has_power_projection = no
	overlord_protects_external = yes
	separatists_become_subjects = yes
	allows_taking_land_without_independence = yes
	can_transfer_in_peace = no
	can_set_mil_focus = no
	extend_trading_range = yes

	max_government_rank = 1

	base_liberty_desire = -5.0
	liberty_desire_development_ratio = 0.25
	liberty_desire_same_dynasty = -5.0
	forcelimit_to_overlord = 0.5

	relative_power_class = 2
	diplomacy_view_class = 1

	can_fight = {
		neighboring_primitives = yes
		other_overlord = integrated_tribe_subject
		# to always trigger call of arms:
		independent_nations = yes
		other_overlord = all
		same_overlord = integrated_tribe_subject
	}
	can_rival = {
		neighboring_primitives = yes
		other_overlord = integrated_tribe_subject
	}
	can_ally = {
		neighboring_primitives = yes
		same_overlord = integrated_tribe_subject
	}
	can_marry = {
		neighboring_primitives = yes
		same_overlord = integrated_tribe_subject
	}

	# Subject Interactions:
	# (continuous)
	embargo_rivals = no
	scutage = yes
	subsidize_armies = yes
	# (immediate)
	placate_rulers = yes
	grant_province = no
	grant_core_claim = yes
	sacrifice_ruler = yes
	sacrifice_heir = yes
	takeondebt = yes
	demand_additional_tribute = yes
	knowledge_sharing = no

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		trigger = {
			primary_culture = FROM
		}
		modifier = integrated_tribe_subject_same_culture_modifier
	}
	modifier_subject = {
		trigger = {
			NOT = { primary_culture = FROM }
		}
		modifier = integrated_tribe_subject_different_culture_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = vassal_subject
	}

	overlord_opinion_modifier = is_integrated_tribe_subject
	subject_opinion_modifier = is_integrated_tribe_subject
}

dutch_province_subject = {
	copy_from = default
	count = vassal

	# Graphics:
	sprite = GFX_icon_dutch_province_subject
	diplomacy_overlord_sprite = GFX_diplomacy_leaddutch_province_subject
	diplomacy_subject_sprite = GFX_diplomacy_amdutch_province_subject

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		OR = {
			primary_culture = dutch
			primary_culture = flemish
			primary_culture = frisian
			primary_culture = wallonian
		}
		capital_scope = {
			region = low_countries_region
		}
		NOT = {
			any_country = {
				NOT = { tag = PREV }
				has_subject_of_type = dutch_province_subject
			}
		}
		NOT = {
			calc_true_if = {
				all_subject_country = {
					is_subject_of_type = dutch_province_subject
				}
				amount = 5
			}
		}
	}

	# Properties:
	transfer_trade_if_merchant_republic = yes
	joins_overlords_wars = yes
	overlord_can_attack = no
	can_have_subjects_of_other_types = yes
	takes_diplo_slot = no
	overlord_protects_external = yes
	gets_help_with_rebels = yes
	allows_taking_land_without_independence = yes
	can_transfer_in_peace = no
	does_overlord_size_count_for_warscore_cost = no
	can_concentrate_development = no
	can_have_great_projects_moved_by_overlord = no

	base_liberty_desire = -10.0
	liberty_desire_negative_prestige = 0.25
	liberty_desire_development_ratio = 0.33
	pays_overlord = 1.0
	forcelimit_to_overlord = 0

	relative_power_class = 1
	diplomacy_view_class = 1

	should_quit_wars_on_activation = no

	can_fight = {
		independent_nations = yes
		other_overlord = all
		same_overlord = dutch_province_subject
	}
	can_rival = {
		independent_nations = yes
		other_overlord = all
		same_overlord = dutch_province_subject
	}
	can_ally = {
		independent_nations = yes
		other_overlord = all
		same_overlord = dutch_province_subject
	}
	can_marry = {
		independent_nations = yes
		other_overlord = all
		same_overlord = dutch_province_subject
	}

	# Subject Interactions:
	# (continuous)
	scutage = yes
	divert_trade = yes
	# (immediate)
	placate_rulers = no
	enforce_religion = no
	enforce_culture = yes
	siphon_income = yes
	grant_core_claim = no
	takeondebt = yes
	bestow_gifts = yes
	block_settlement_growth = no
	allow_settlement_growth = no

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = dutch_province_subject_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = dutch_province_subject_overlord_modifier
	}
	modifier_overlord = {
		trigger = {
			has_global_flag = dutch_province_subject_no_leader_election
			marriage_with = FROM
		}
		modifier = royal_marriage_no_slot_cost_modifier
	}

	overlord_opinion_modifier = is_dutch_province_subject
	subject_opinion_modifier = is_dutch_province_subject
}

revolution_subject = {
	copy_from = default
	count = vassal

	# Graphics:
	sprite = GFX_icon_revolution_subject
	diplomacy_overlord_sprite = GFX_diplomacy_leadrevolution_subject
	diplomacy_subject_sprite = GFX_diplomacy_amrevolution_subject

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		is_revolution_target = yes
	}

	# Properties:
	has_overlords_ruler = yes
	overlord_can_attack = no
	overlord_can_be_subject = yes
	can_be_annexed = yes
	has_power_projection = no
	gets_help_with_rebels = yes
	separatists_become_subjects = yes
	can_transfer_in_peace = no
	extend_trading_range = yes

	trust_on_start = 10

	base_liberty_desire = -20.0
	liberty_desire_negative_prestige = 1.0
	liberty_desire_development_ratio = 0.125
	liberty_desire_revolution = -10
	pays_overlord = 1.0
	forcelimit_to_overlord = 0.5

	relative_power_class = 3
	diplomacy_view_class = 1

	can_fight = {
	}
	can_rival = {
		independent_nations = yes
		same_overlord = revolution_subject
	}
	can_ally = {
		same_overlord = revolution_subject
	}
	can_marry = {
		same_overlord = all
	}

	# Subject Interactions:
	# (continuous)
	support_loyalists = yes
	subsidize_armies = yes
	divert_trade = yes
	# (immediate)
	placate_rulers = no
	enforce_culture = yes
	fortify_march = yes
	grant_core_claim = no
	conscript_general = yes

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = revolution_subject_modifier
	}
	modifier_subject = {
		trigger = {
			FROM = {
				is_revolution_target = no
			}
		}
		modifier = revolution_subject_overlord_no_revolution_target_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = revolution_subject_overlord_modifier
	}
	modifier_overlord = {
		trigger = {
			FROM = {
				is_revolution_target = yes
			}
			OR = {
				is_neighbor_of = FROM
				any_neighbor_country = {
					NOT = { tag = ROOT }
					is_subject_of = FROM
					is_subject_of_type = revolution_subject
				}
			}
			any_neighbor_country = {
				is_revolution_target = no
				NOT = { is_subject_of_type = revolution_subject }
			}
		}
		modifier = revolution_subject_overlord_no_diplomatic_relation_slot_modifier
	}
	modifier_overlord = {
		modifier = vassal_subject
	}

	overlord_opinion_modifier = is_revolution_subject
	subject_opinion_modifier = is_revolution_subject
}

persian_satrapy = {
	copy_from = default
	count = vassal

	# Graphics:
	sprite = GFX_icon_persian_satrapy
	diplomacy_overlord_sprite = GFX_diplomacy_leadpersian_satrapy
	diplomacy_subject_sprite = GFX_diplomacy_ampersian_satrapy

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		government = monarchy
		OR = {
			tag = PER
			primary_culture = persian
			AND = {
				culture_group = iranian
				dominant_culture = ROOT
			}
			AND = {
				NOT = { culture_group = iranian }
				OR = {
					AND = {
						dominant_culture = persian
						accepted_culture = persian
					}
					AND = {
						dominant_culture = luri
						accepted_culture = luri
					}
					AND = {
						dominant_culture = azerbaijani
						accepted_culture = azerbaijani
					}
					AND = {
						dominant_culture = khorasani
						accepted_culture = khorasani
					}
					AND = {
						dominant_culture = baluchi
						accepted_culture = baluchi
					}
					AND = {
						dominant_culture = afghani
						accepted_culture = afghani
					}
					AND = {
						dominant_culture = kurdish
						accepted_culture = kurdish
					}
					AND = {
						dominant_culture = mazandarani
						accepted_culture = mazandarani
					}
				}
			}
			AND = {
				accepted_culture = persian
				num_of_owned_provinces_with = {
					value = 10
					culture = persian
				}
			}
		}
	}

	# Properties:
	transfer_trade_if_merchant_republic = yes
	uses_tariffs = yes
	dynamically_created_during_history = yes
	has_power_projection = no
	overlord_protects_external = yes
	overlord_enforce_peace_attacking = yes
	share_rebel_popup = no
	separatists_become_subjects = yes
	allows_taking_land_without_independence = yes
	can_transfer_in_peace = no
	transfer_subjects_when_made = yes
	extend_trading_range = yes

	max_government_rank = 1

	base_liberty_desire = -20.0
	liberty_desire_negative_prestige = 0.05
	liberty_desire_development_ratio = 0.25
	liberty_desire_same_dynasty = -10.0
	forcelimit_to_overlord = 0.2

	relative_power_class = 4
	diplomacy_view_class = 1

	restoration_cb = cb_disloyal_vassal

	can_fight = {
		other_overlord = persian_satrapy
		other_overlord = tributary_state
		other_overlord = integrated_tribe_subject
		other_overlord = imperial_tributary_state
		other_overlord = mandala_trade_vassal
		other_overlord = peasant_vassal
	}
	can_rival = {
		independent_nations = yes
		other_overlord = all
	}
	can_ally = {
		same_overlord = persian_satrapy
	}
	can_marry = {
	}

	# Subject Interactions:
	# (continuous)
	subsidize_armies = yes
	send_officers = yes
	divert_trade = yes
	# (immediate)
	placate_rulers = yes
	replace_governor = yes
	enforce_culture = yes
	siphon_income = yes
	grant_core_claim = no
	increase_tariffs = yes
	decrease_tariffs = yes
	contribute_to_capital = yes
	conscript_general = yes

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = persian_satrapy_modifier
	}
	modifier_subject = {
		trigger = {
			FROM = {
				NOT = { legitimacy_equivalent = 50 }
			}
		}
		modifier = persian_satrapy_overlord_has_low_legitimacy_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = persian_satrapy_overlord_modifier
	}
	modifier_overlord = {
		modifier = vassal_subject
	}
	modifier_overlord = {
		trigger = {
			capital_scope = {
				OR = {
					superregion = persia_superregion
					superregion = near_east_superregion
					superregion = india_superregion
				}
			}
			FROM = {
				capital_scope = {
					OR = {
						superregion = persia_superregion
						superregion = near_east_superregion
						superregion = india_superregion
					}
				}
			}
		}
		modifier = persian_satrapy_overlord_no_dip_relation_cost_modifier
	}
	modifier_overlord = {
		trigger = {
			has_country_modifier = persian_satrapy_sword_hunt_modifier
		}
		modifier = persian_satrapy_overlord_sword_hunt_modifier
	}

	overlord_opinion_modifier = is_persian_satrapy
	subject_opinion_modifier = is_persian_satrapy
}

naval_march = {
	copy_from = march
	count = march

	# Triggers:
	is_potential_overlord = {
		num_of_ports = 5
		navy_size = 10
		primitives = no
	}

	# Graphics:
	sprite = GFX_icon_naval_march
	diplomacy_overlord_sprite = GFX_diplomacy_leadnaval_march
	diplomacy_subject_sprite = GFX_diplomacy_amnaval_march

	# Properties:
	forcelimit_to_overlord = 0
	naval_forcelimit_to_overlord = 0.2

	# Subject Interactions:
	send_officers = no
	press_sailors = yes
	subsidize_armies = no
	fortify_march = no

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = naval_march_low_dev_modifier
		trigger = {
			NOT = { development_of_overlord_fraction = 0.25 }
		}
		expiration_message_overlord = MARCHTOOLARGE
		expiration_message_subject = MARCHTOOLARGEUS
	}
	modifier_subject = {
		modifier = naval_march_send_officers_modifier
		trigger = {
			custom_trigger_tooltip = {
				tooltip = HAS_NAVAL_MARCH_SEND_OFFICERS
				has_country_flag = naval_march_send_officers
			}
		}
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = naval_march_low_dev_overlord_modifier
		trigger = {
			NOT = { development_of_overlord_fraction = 0.25 }
		}
	}
	modifier_overlord = {
		modifier = naval_march_low_dev_overlord_modifier
		trigger = {
			num_of_cities = 2
			NOT = { development_of_overlord_fraction = 0.25 }
		}
	}
	modifier_overlord = {
		modifier = naval_march_low_dev_overlord_modifier
		trigger = {
			num_of_cities = 3
			NOT = { development_of_overlord_fraction = 0.25 }
		}
	}
	modifier_overlord = {
		modifier = naval_march_low_dev_overlord_modifier
		trigger = {
			num_of_cities = 4
			NOT = { development_of_overlord_fraction = 0.25 }
		}
	}
	modifier_overlord = {
		modifier = naval_march_low_dev_overlord_modifier
		trigger = {
			num_of_cities = 5
			NOT = { development_of_overlord_fraction = 0.25 }
		}
	}
	modifier_overlord = {
		modifier = naval_march_send_officers_overlord_modifier
		trigger = {
			custom_trigger_tooltip = {
				tooltip = HAS_NAVAL_MARCH_SEND_OFFICERS
				has_country_flag = naval_march_send_officers
			}
		}
	}

	overlord_opinion_modifier = is_naval_march
	subject_opinion_modifier = is_naval_march
}

trade_outpost = {
	copy_from = default

	# Graphics:
	sprite = GFX_icon_trade_outpost
	diplomacy_overlord_sprite = GFX_diplomacy_leadtrade_outpost
	diplomacy_subject_sprite = GFX_diplomacy_amtrade_outpost

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		OR = {
			num_of_colonists = 1
			has_reform = merchants_reform
			has_government_attribute = is_merchant_republic
		}
		capital_scope = {
			continent = europe
		}
		NOT = {
			calc_true_if = {
				all_subject_country = {
					is_subject_of_type = trade_outpost
				}
				amount = 10
			}
		}
	}

	# Properties:
	is_voluntary = yes
	has_colonial_parent = yes
	transfer_trade_power = yes
	joins_overlords_wars = no
	can_release_and_play = yes
	overlord_can_attack = no
	takes_diplo_slot = no
	uses_military_focus = no
	can_use_claims = no
	counts_for_borders = no
	share_rebel_popup = no
	can_transfer_in_peace = no
	can_set_mil_focus = no
	overlord_can_fabricate_for = no
	does_overlord_size_count_for_warscore_cost = no
	can_concentrate_development = no
	can_have_great_projects_moved_by_overlord = no
	extend_trading_range = yes

	cities_required_for_bonuses = 0 #1

	liberty_desire_development_ratio = 0.5
	pays_overlord = 2.5
	military_focus = 0

	relative_power_class = 5
	diplomacy_view_class = 1

	can_fight = {
	}
	can_rival = {
		independent_nations = yes
		other_overlord = all
	}
	can_ally = {
	}
	can_marry = {
		independent_nations = yes
		same_overlord = all
		other_overlord = all
	}

	# Subject Interactions:
	# (continuous)
	divert_trade = yes
	# (immediate)
	grant_province = no
	enforce_culture = yes
	siphon_income = yes
	grant_core_claim = no
	demand_artifacts = yes
	press_sailors = yes
	block_settlement_growth = no
	allow_settlement_growth = no

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = trade_outpost_modifier
	}
	modifier_subject = {
		trigger = {
			is_bankrupt = yes
		}
		modifier = trade_outpost_bankrupt_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = trade_outpost_overlord_modifier
	}
	modifier_overlord = {
		trigger = {
			has_country_modifier = improved_trade_outpost_modifier
		}
		modifier = improved_trade_outpost_overlord_modifier
	}

	overlord_opinion_modifier = is_trade_outpost
	subject_opinion_modifier = is_trade_outpost
}

integrated_personal_union = {
	copy_from = personal_union
	count = personal_union

	# Graphics:
	sprite = GFX_icon_integrated_personal_union
	diplomacy_overlord_sprite = GFX_diplomacy_leadintegrated_personal_union
	diplomacy_subject_sprite = GFX_diplomacy_amintegrated_personal_union

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		personal_union = 1
	}

	# Properties:
	can_be_integrated = no

	liberty_desire_negative_prestige = 1.0
	liberty_desire_development_ratio = 0.1
	military_focus = 0.66

	relative_power_class = 1
	diplomacy_view_class = 1

	restoration_cb = cb_restore_personal_union

	modifier_subject = {
		modifier = integrated_personal_union_modifier
	}
}

brother_kingdom = {
	copy_from = default
	count = personal_union

	# Graphics:
	sprite = GFX_icon_brother_kingdom
	diplomacy_overlord_sprite = GFX_diplomacy_leadbrother_kingdom
	diplomacy_subject_sprite = GFX_diplomacy_ambrother_kingdom

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		government = monarchy
		religion_group = christian
		has_regency = no
	}

	# Properties:
	overlord_can_attack = no
	can_have_subjects_of_other_types = yes
	overlord_protects_external = yes
	gets_help_with_rebels = yes
	allows_taking_land_without_independence = yes
	can_concentrate_development = no
	can_have_great_projects_moved_by_overlord = no
	extend_trading_range = yes

	max_government_rank = 2

	liberty_desire_negative_prestige = 0.5
	forcelimit_to_overlord = 0.1
	military_focus = 0.66

	relative_power_class = 1
	diplomacy_view_class = 1

	should_quit_wars_on_activation = no

	can_fight = {
		independent_nations = yes
		other_overlord = all
	}
	can_rival = {
		independent_nations = yes
		other_overlord = all
	}
	can_ally = {
		same_overlord = vassal
		same_overlord = fief_subject
		same_overlord = brother_kingdom
		same_overlord = medieval_vassal
	}
	can_marry = {
		same_overlord = vassal
		same_overlord = fief_subject
		same_overlord = brother_kingdom
		same_overlord = medieval_vassal
	}

	# Subject Interactions:
	# (continuous)
	send_officers = yes
	divert_trade = yes
	# (immediate)
	enforce_culture = yes
	siphon_income = yes
	grant_core_claim = no
	send_additional_troops = yes
	contribute_to_capital = yes
	conscript_general = yes
	block_settlement_growth = no
	allow_settlement_growth = no

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = brother_kingdom_modifier
	}
	modifier_subject = {
		trigger = {
			NOT = { religion = FROM }
		}
		modifier = brother_kingdom_other_religion_modifier
	}
	modifier_subject = {
		trigger = {
			NOT = { culture_group = FROM }
		}
		modifier = brother_kingdom_other_culture_group_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = brother_kingdom_overlord_modifier
	}
	modifier_overlord = {
		modifier = vassal_subject
	}

	overlord_opinion_modifier = is_brother_kingdom
	subject_opinion_modifier = is_brother_kingdom
}

iqta_vassal = {
	copy_from = default
	count = vassal

	# Graphics:
	sprite = GFX_icon_iqta_vassal
	diplomacy_overlord_sprite = GFX_diplomacy_leadiqta_vassal
	diplomacy_subject_sprite = GFX_diplomacy_amiqta_vassal

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		religion_group = muslim
		OR = {
			is_defender_of_faith = yes
			government_rank = 3
			AND = {
				NOT = { has_dlc = "Common Sense" }
				total_development = 1000
			}
			# Missions Expanded reforms
			has_reform = caliphate_theocracy_reform
			has_reform = ME_caliphate_reform_sunni
			has_reform = ME_caliphate_reform_sunni_andalusia
			has_reform = ME_caliphate_reform_sunni_arabian
			AND = {
				OR = {
					government_rank = 2
					AND = {
						NOT = { has_dlc = "Common Sense" }
						total_development = 300
					}
				}
				OR = {
					has_reform = iqta
					# Extended Timeline reforms
					has_reform = caliphate_reform #VU - ET entry used by PDX that they've not given any credit to ET for. 
				}
			}
		}
		NOT = {
			calc_true_if = {
				all_subject_country = {
					is_subject_of_type = iqta_vassal
				}
				amount = 2
			}
		}
	}

	# Properties:
	transfer_trade_if_merchant_republic = yes
	can_be_annexed = yes
	takes_diplo_slot = yes
	has_power_projection = no
	overlord_enforce_peace_attacking = yes
	allows_taking_land_without_independence = yes
	pays_overlord = 0.25
	extend_trading_range = yes

	max_government_rank = 1

	liberty_desire_development_ratio = 0.2
	liberty_desire_same_dynasty = -5.0
	forcelimit_to_overlord = 0.1

	relative_power_class = 1
	diplomacy_view_class = 1

	can_fight = {
		other_overlord = muslim_tributary_vassal
	}
	can_rival = {
		other_overlord = muslim_tributary_vassal
		other_overlord = iqta_vassal
	}
	can_ally = {
		same_overlord = muslim_tributary_vassal
		same_overlord = iqta_vassal
	}
	can_marry = {
		same_overlord = muslim_tributary_vassal
		same_overlord = iqta_vassal
	}

	# Subject Interactions:
	# (continuous)
	scutage = yes
	# (immediate)
	place_relative_on_throne = yes
	enforce_culture = yes
	seize_territory = yes

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = vassal_nation
	}
	modifier_subject = {
		modifier = iqta_vassal_modifier
	}
	modifier_subject = {
		trigger = {
			NOT = { religion_group = FROM }
		}
		modifier = iqta_vassal_wrong_religion_group_modifier
	}
	modifier_subject = {
		trigger = {
			religion_group = FROM
			NOT = { religion = FROM }
		}
		modifier = iqta_vassal_wrong_religion_modifier
	}
	modifier_subject = {
		trigger = {
			NOT = { religious_unity = 0.5 }
		}
		modifier = iqta_vassal_low_religious_unity_modifier
	}
	modifier_subject = {
		trigger = {
			has_scutage = yes
			NOT = { has_country_modifier = iqta_vassal_allow_annex_modifier }
		}
		modifier = iqta_vassal_scutage_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = iqta_vassal_overlord_modifier
	}
	modifier_overlord = {
		modifier = vassal_subject
	}
	modifier_overlord = {
		trigger = {
			religion = FROM
			religious_unity = 0.75
		}
		modifier = iqta_vassal_same_religion_overlord_modifier
	}

	overlord_opinion_modifier = is_iqta_vassal
	subject_opinion_modifier = is_iqta_vassal
}

papal_sanctuary_subject = {
	copy_from = default

	# Graphics:
	sprite = GFX_icon_papal_sanctuary_subject
	diplomacy_overlord_sprite = GFX_diplomacy_leadpapal_sanctuary_subject
	diplomacy_subject_sprite = GFX_diplomacy_ampapal_sanctuary_subject

	# Triggers:
	is_potential_overlord = {
		OR = {
			tag = PAP
			AND = {
				OR = {
					has_reform = papacy_reform
					has_country_flag = is_kingdom_of_god_flag
				}
				NOT = { exists = PAP }
			}
		}
		religion = catholic
		is_excommunicated = no
		OR = {
			papacy_active = yes
			has_country_flag = is_kingdom_of_god_flag
		}
	}

	# Properties:
	is_voluntary = yes
	overlord_can_be_subject = yes
	can_have_subjects_of_other_types = yes
	uses_military_focus = no
	overlord_protects_external = yes
	counts_for_borders = no
	can_use_claims = no
	allows_taking_land_without_independence = yes
	can_transfer_in_peace = no
	can_set_mil_focus = no
	overlord_can_fabricate_for = no
	does_overlord_size_count_for_warscore_cost = no
	can_concentrate_development = no
	can_have_great_projects_moved_by_overlord = no

	trust_on_start = 50

	liberty_desire_development_ratio = 0.25
	pays_overlord = 0.1

	relative_power_class = 1
	diplomacy_view_class = 1

	should_quit_wars_on_activation = no

	can_fight = {
		independent_nations = yes
		other_overlord = all
		same_overlord = tributary_state
		same_overlord = protectorate
		same_overlord = peasant_vassal
		same_overlord = imperial_tributary_state
		same_overlord = sister_republic
		same_overlord = integrated_tribe_subject
		same_overlord = dutch_province_subject
		same_overlord = persian_satrapy
		same_overlord = brother_kingdom
		same_overlord = papal_sanctuary_subject
		same_overlord = banking_family_subject
	}
	can_rival = {
		independent_nations = yes
		other_overlord = tributary_state
		other_overlord = protectorate
		other_overlord = peasant_vassal
		other_overlord = imperial_tributary_state
		other_overlord = sister_republic
		other_overlord = integrated_tribe_subject
		other_overlord = dutch_province_subject
		other_overlord = persian_satrapy
		other_overlord = brother_kingdom
		other_overlord = papal_sanctuary_subject
		other_overlord = banking_family_subject
		same_overlord = tributary_state
		same_overlord = protectorate
		same_overlord = peasant_vassal
		same_overlord = imperial_tributary_state
		same_overlord = sister_republic
		same_overlord = integrated_tribe_subject
		same_overlord = dutch_province_subject
		same_overlord = persian_satrapy
		same_overlord = brother_kingdom
		same_overlord = papal_sanctuary_subject
		same_overlord = banking_family_subject
	}
	can_ally = {
		independent_nations = yes
		other_overlord = tributary_state
		other_overlord = protectorate
		other_overlord = peasant_vassal
		other_overlord = imperial_tributary_state
		other_overlord = sister_republic
		other_overlord = integrated_tribe_subject
		other_overlord = dutch_province_subject
		other_overlord = persian_satrapy
		other_overlord = brother_kingdom
		other_overlord = papal_sanctuary_subject
		other_overlord = banking_family_subject
		same_overlord = tributary_state
		same_overlord = protectorate
		same_overlord = peasant_vassal
		same_overlord = imperial_tributary_state
		same_overlord = sister_republic
		same_overlord = integrated_tribe_subject
		same_overlord = dutch_province_subject
		same_overlord = persian_satrapy
		same_overlord = brother_kingdom
		same_overlord = papal_sanctuary_subject
		same_overlord = banking_family_subject
	}
	can_marry = {
		independent_nations = yes
		other_overlord = tributary_state
		other_overlord = protectorate
		other_overlord = peasant_vassal
		other_overlord = imperial_tributary_state
		other_overlord = sister_republic
		other_overlord = integrated_tribe_subject
		other_overlord = dutch_province_subject
		other_overlord = persian_satrapy
		other_overlord = brother_kingdom
		other_overlord = papal_sanctuary_subject
		other_overlord = banking_family_subject
		same_overlord = tributary_state
		same_overlord = protectorate
		same_overlord = peasant_vassal
		same_overlord = imperial_tributary_state
		same_overlord = sister_republic
		same_overlord = integrated_tribe_subject
		same_overlord = dutch_province_subject
		same_overlord = persian_satrapy
		same_overlord = brother_kingdom
		same_overlord = papal_sanctuary_subject
		same_overlord = banking_family_subject
	}

	# Subject Interactions:
	# (continuous)
	scutage = yes
	# (immediate)
	enforce_religion = no
	siphon_income = yes
	send_additional_troops = yes
	block_settlement_growth = no
	allow_settlement_growth = no

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = papal_sanctuary_subject_modifier
	}
	modifier_subject = {
		trigger = {
			FROM = {
				is_papal_controller = yes
			}
		}
		modifier = papal_sanctuary_subject_overlord_is_papal_controller_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = papal_sanctuary_subject_overlord_modifier
	}
	modifier_overlord = {
		trigger = {
			religion = FROM
			OR = {
				government = theocracy
				is_papal_controller = yes
				is_defender_of_faith = yes
				crusade_target = {
					is_neighbor_of = PREV
				}
			}
		}
		modifier = papal_sanctuary_subject_no_diplo_cost_overlord_modifier
	}

	overlord_opinion_modifier = is_papal_sanctuary_subject
	subject_opinion_modifier = is_papal_sanctuary_subject
}

imperial_feud_subject = {
	copy_from = default

	# Graphics:
	sprite = GFX_icon_imperial_feud_subject
	diplomacy_overlord_sprite = GFX_diplomacy_leadimperial_feud_subject
	diplomacy_subject_sprite = GFX_diplomacy_amimperial_feud_subject

	# Triggers:
	is_potential_overlord = {
		is_emperor = yes
		NOT = { hre_reform_passed = emperor_privilegia_de_non_appelando }
		NOT = { hre_reform_passed = privilegia_de_non_appelando }
		NOT = {
			calc_true_if = {
				all_country = {
					is_subject_of_type = imperial_feud_subject
				}
				amount = 5
			}
		}
	}

	# Properties:
	is_voluntary = yes
	can_send_tribute = yes
	joins_overlords_wars = no
	overlord_can_attack = no
	overlord_can_be_subject = yes
	can_have_subjects_of_other_types = yes
	takes_diplo_slot = no
	uses_military_focus = no
	overlord_protects_external = yes
	counts_for_borders = no
	can_use_claims = no
	share_rebel_popup = no
	allows_taking_land_without_independence = yes
	can_transfer_in_peace = no
	can_set_mil_focus = no
	can_send_missionary_to_subject = no
	overlord_can_fabricate_for = no
	does_overlord_size_count_for_warscore_cost = no
	can_concentrate_development = no
	can_have_great_projects_moved_by_overlord = no

	trust_on_start = 50

	base_liberty_desire = -5.0
	liberty_desire_development_ratio = 0.175
	liberty_desire_same_dynasty = -10.0

	relative_power_class = 1
	diplomacy_view_class = 1

	should_quit_wars_on_activation = no

	can_fight = {
		independent_nations = yes
		other_overlord = all
		same_overlord = imperial_feud_subject
	}
	can_rival = {
		independent_nations = yes
		other_overlord = all
		same_overlord = imperial_feud_subject
	}
	can_ally = {
		independent_nations = yes
		other_overlord = all
		same_overlord = imperial_feud_subject
	}
	can_marry = {
		independent_nations = yes
		other_overlord = all
		same_overlord = imperial_feud_subject
	}

	restoration_cb = cb_disloyal_imperial_feud_subject

	# Subject Interactions:
	# (continuous)
	embargo_rivals = no
	# (immediate)
	fortify_march = yes
	grant_core_claim = no
	demand_additional_tribute = yes
	# contribute_to_capital = yes # seems to be broken?
	return_land = yes
	conscript_general = yes
	block_settlement_growth = no
	allow_settlement_growth = no

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = imperial_feud_subject_modifier
	}
	modifier_subject = {
		trigger = {
			years_in_vassalage_under = {
				who = FROM
				years = 11
				all_subject_country = yes
			}
		}
		modifier = imperial_feud_subject_is_subject_for_11_years_modifier
	}
	modifier_subject = {
		trigger = {
			years_in_vassalage_under = {
				who = FROM
				years = 15
				all_subject_country = yes
			}
		}
		modifier = imperial_feud_subject_is_subject_for_15_years_modifier
	}
	modifier_subject = {
		trigger = {
			years_in_vassalage_under = {
				who = FROM
				years = 20
				all_subject_country = yes
			}
		}
		modifier = imperial_feud_subject_is_subject_for_20_years_modifier
	}
	modifier_subject = {
		trigger = {
			years_in_vassalage_under = {
				who = FROM
				years = 25
				all_subject_country = yes
			}
		}
		modifier = imperial_feud_subject_is_subject_for_25_years_modifier
	}
	modifier_subject = {
		trigger = {
			years_in_vassalage_under = {
				who = FROM
				years = 30
				all_subject_country = yes
			}
		}
		modifier = imperial_feud_subject_is_subject_for_30_years_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		trigger = {
			NOT = { liberty_desire = 50 }
		}
		modifier = imperial_feud_subject_overlord_modifier
	}

	overlord_opinion_modifier = is_imperial_feud_subject
	subject_opinion_modifier = is_imperial_feud_subject
}

pagan_chiefdom = {
	copy_from = default
	count = march

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		OR = {
			religion_group = pagan
			religion_group = slavic_group
			religion_group = balto_slavic_group
		}
	}

	# Graphics:
	sprite = GFX_icon_pagan_chiefdom
	diplomacy_overlord_sprite = GFX_diplomacy_leadpagan_chiefdom
	diplomacy_subject_sprite = GFX_diplomacy_ampagan_chiefdom

	# Properties:
	has_power_projection = no
	gets_help_with_rebels = yes
	extend_trading_range = yes

	max_government_rank = 1

	base_liberty_desire = -5.0
	liberty_desire_negative_prestige = 0.1
	liberty_desire_development_ratio = 0.25
	liberty_desire_same_dynasty = -5

	pays_overlord = 0.0
	forcelimit_to_overlord = 0.2
	military_focus = 1.5

	relative_power_class = 2
	diplomacy_view_class = 1

	can_fight = {
	}
	can_rival = {
	}
	can_ally = {
	}
	can_marry = {
	}

	# Subject Interactions:
	divert_trade = yes
	grant_province = no
	enforce_culture = yes
	fortify_march = yes
	seize_territory = yes
	demand_artifacts = yes

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = pagan_chiefdom_modifier
	}
	modifier_subject = {
		modifier = pagan_chiefdom_strong_military_modifier_1
		trigger = {
			army_strength = { who = FROM value = 0.75 }
			NOT = { army_strength = { who = FROM value = 1 } }
		}
	}
	modifier_subject = {
		modifier = pagan_chiefdom_strong_military_modifier_2
		trigger = {
			army_strength = { who = FROM value = 1 }
			NOT = { army_strength = { who = FROM value = 1.25 } }
		}
	}
	modifier_subject = {
		modifier = pagan_chiefdom_strong_military_modifier_3
		trigger = {
			army_strength = { who = FROM value = 1.25 }
			NOT = { army_strength = { who = FROM value = 1.5 } }
		}
	}
	modifier_subject = {
		modifier = pagan_chiefdom_strong_military_modifier_4
		trigger = {
			army_strength = { who = FROM value = 1.5 }
			NOT = { army_strength = { who = FROM value = 1.75 } }
		}
	}
	modifier_subject = {
		modifier = pagan_chiefdom_strong_military_modifier_5
		trigger = {
			army_strength = { who = FROM value = 1.75 }
			NOT = { army_strength = { who = FROM value = 2 } }
		}
	}
	modifier_subject = {
		modifier = pagan_chiefdom_strong_military_modifier_6
		trigger = {
			army_strength = { who = FROM value = 2 }
		}
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = pagan_chiefdom_overlord_modifier
	}
	modifier_overlord = {
		modifier = vassal_subject
	}
	modifier_overlord = {
		modifier = pagan_chiefdom_increased_looting_speed_overlord_modifier
		trigger = {
			has_country_modifier = increase_looting_speed_with_pagan_chiefdom_cooldown
		}
	}
	modifier_overlord = {
		modifier = pagan_chiefdom_increased_horde_unity_overlord_modifier
		trigger = {
			has_country_modifier = increase_horde_unity_with_pagan_chiefdom_cooldown
		}
	}

	overlord_opinion_modifier = is_pagan_chiefdom
	subject_opinion_modifier = is_pagan_chiefdom
}

native_reserve = {
	copy_from = default

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		OR = {
			AND = {
				is_former_colonial_nation = yes
				capital_scope = {
					OR = {
						continent = north_america
						continent = south_america
						continent = africa
						continent = oceania
					}
				}
			}
			AND = {
				calc_true_if = {
					all_subject_country = {
						OR = {
							is_subject_of_type = colony
							is_subject_of_type = crown_colony
							is_subject_of_type = private_enterprise
							is_subject_of_type = self_governing_colony
							is_subject_of_type = annexable_colony
						}
					}
					amount = 1
				}
				NOT = {
					has_global_modifier_value = {
						which = native_uprising_chance
						value = -0.9
					}
				}
			}
		}
	}

	# Graphics:
	sprite = GFX_icon_native_reserve
	diplomacy_overlord_sprite = GFX_diplomacy_leadnative_reserve
	diplomacy_subject_sprite = GFX_diplomacy_amnative_reserve

	# Properties:
	transfer_trade_power = yes
	joins_overlords_wars = no
	overlord_can_attack = no
	can_have_subjects_of_other_types = yes
	takes_diplo_slot = no
	uses_military_focus = no
	can_use_claims = no
	gets_help_with_rebels = yes
	can_transfer_in_peace = no
	can_set_mil_focus = no
	can_send_missionary_to_subject = no
	overlord_can_fabricate_for = no
	extend_trading_range = yes

	max_government_rank = 1

	liberty_desire_development_ratio = 0.125
	military_focus = 0.0

	relative_power_class = 1
	diplomacy_view_class = 1

	can_fight = {
	}
	can_rival = {
		other_overlord = native_reserve
	}
	can_ally = {
		same_overlord = native_reserve
	}
	can_marry = {
		same_overlord = native_reserve
	}

	# Subject Interactions:
	# (immediate)
	placate_rulers = no
	enforce_religion = no
	grant_core_claim = no

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = native_reserve_civilized_modifier
		trigger = {
			NOT = { government = native }
			NOT = { government = tribal }
		}
	}
	modifier_subject = {
		modifier = native_reserve_uncivilized_modifier
		trigger = {
			OR = {
				government = native
				government = tribal
			}
		}
	}
	modifier_subject = {
		modifier = native_reserve_behind_in_institutions_modifier
		trigger = {
			FROM = {
				institution_difference = {
					who = ROOT
					value = 1
				}
			}
		}
	}
	modifier_subject = {
		modifier = native_reserve_ahead_in_institutions_modifier
		trigger = {
			institution_difference = {
				who = FROM
				value = 1
			}
		}
	}
	modifier_subject = {
		modifier = native_reserve_behind_in_adm_tech_modifier
		trigger = {
			NOT = { adm_tech = FROM }
		}
	}
	modifier_subject = {
		modifier = native_reserve_ahead_in_adm_tech_modifier
		trigger = {
			FROM = {
				NOT = { adm_tech = ROOT }
			}
		}
	}
	modifier_subject = {
		modifier = native_reserve_behind_in_dip_tech_modifier
		trigger = {
			NOT = { dip_tech = FROM }
		}
	}
	modifier_subject = {
		modifier = native_reserve_ahead_in_dip_tech_modifier
		trigger = {
			FROM = {
				NOT = { dip_tech = ROOT }
			}
		}
	}
	modifier_subject = {
		modifier = native_reserve_behind_in_mil_tech_modifier
		trigger = {
			NOT = { mil_tech = FROM }
		}
	}
	modifier_subject = {
		modifier = native_reserve_ahead_in_mil_tech_modifier
		trigger = {
			FROM = {
				NOT = { mil_tech = ROOT }
			}
		}
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = native_reserve_civilized_overlord_modifier
		trigger = {
			NOT = { government = native }
			NOT = { government = tribal }
		}
	}
	modifier_overlord = {
		modifier = native_reserve_uncivilized_overlord_modifier
		trigger = {
			OR = {
				government = native
				government = tribal
			}
		}
	}

	overlord_opinion_modifier = is_native_reserve
	subject_opinion_modifier = is_native_reserve
}

administrative_region = {
	copy_from = default

	# Graphics:
	sprite = GFX_icon_administrative_region
	diplomacy_overlord_sprite = GFX_diplomacy_leadadministrative_region
	diplomacy_subject_sprite = GFX_diplomacy_amadministrative_region

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		total_development = 100
		NOT = { has_subject_of_type = administrative_region }
	}

	# Properties:
	transfer_trade_if_merchant_republic = yes
	joins_overlords_wars = no
	takes_diplo_slot = no
	has_power_projection = no
	can_use_claims = no
	uses_military_focus = no
	can_set_mil_focus = no
	extend_trading_range = yes

	max_government_rank = 1

	liberty_desire_development_ratio = 0.125
	liberty_desire_same_dynasty = -5.0
	pays_overlord = 0.0
	forcelimit_to_overlord = 0
	military_focus = 0.5

	relative_power_class = 1
	diplomacy_view_class = 1

	can_fight = {
	}
	can_rival = {
	}
	can_ally = {
		same_overlord = vassal
		same_overlord = march
		same_overlord = client_vassal
		same_overlord = client_march
	}
	can_marry = {
		same_overlord = vassal
		same_overlord = march
		same_overlord = client_vassal
		same_overlord = client_march
	}

	# Subject Interactions:
	# (immediate)
	siphon_income = yes
	contribute_to_capital = yes

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = administrative_region_modifier
	}
	modifier_subject = {
		trigger = {
			custom_trigger_tooltip = {
				tooltip = HAS_ADMINISTRATIVE_REGION_ENABLE_ADMINISTRATIVE_HELP
				has_country_flag = administrative_region_enable_administrative_help
			}
		}
		modifier = administrative_region_modifier_administrative_help
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = administrative_region_overlord_modifier
	}
	modifier_overlord = {
		modifier = administrative_region_overlord_admin_eff_modifier
	}
	modifier_overlord = {
		trigger = {
			num_of_owned_provinces_with = {
				value = 2
				development = 20
			}
		}
		modifier = administrative_region_overlord_admin_eff_modifier
	}
	modifier_overlord = {
		trigger = {
			num_of_owned_provinces_with = {
				value = 3
				development = 20
			}
		}
		modifier = administrative_region_overlord_admin_eff_modifier
	}
	modifier_overlord = {
		trigger = {
			num_of_owned_provinces_with = {
				value = 4
				development = 20
			}
		}
		modifier = administrative_region_overlord_admin_eff_modifier
	}
	modifier_overlord = {
		trigger = {
			num_of_owned_provinces_with = {
				value = 5
				development = 20
			}
		}
		modifier = administrative_region_overlord_admin_eff_modifier
	}
	modifier_overlord = {
		trigger = {
			custom_trigger_tooltip = {
				tooltip = HAS_ADMINISTRATIVE_REGION_ENABLE_ADMINISTRATIVE_HELP
				has_country_flag = administrative_region_enable_administrative_help
			}
			NOT = { liberty_desire = 50 }
			variable_arithmetic_trigger = {
				custom_tooltip = ADMINISTRATIVE_REGION_HAS_BEST_RULER_SKILL_ADM
				export_to_variable = {
					which = adm_var
					value = ADM
				}
				export_to_variable = {
					which = dip_var
					value = DIP
				}
				export_to_variable = {
					which = mil_var
					value = MIL
				}
				check_variable = { which = adm_var which = dip_var }
				check_variable = { which = adm_var which = mil_var }
			}
		}
		modifier = administrative_region_overlord_modifier_administrative_help_adm
	}
	modifier_overlord = {
		trigger = {
			custom_trigger_tooltip = {
				tooltip = HAS_ADMINISTRATIVE_REGION_ENABLE_ADMINISTRATIVE_HELP
				has_country_flag = administrative_region_enable_administrative_help
			}
			NOT = { liberty_desire = 50 }
			variable_arithmetic_trigger = {
				custom_tooltip = ADMINISTRATIVE_REGION_HAS_BEST_RULER_SKILL_DIP
				export_to_variable = {
					which = adm_var
					value = ADM
				}
				export_to_variable = {
					which = dip_var
					value = DIP
				}
				export_to_variable = {
					which = mil_var
					value = MIL
				}
				NOT = { check_variable = { which = adm_var which = dip_var } }
				check_variable = { which = dip_var which = mil_var }
			}
		}
		modifier = administrative_region_overlord_modifier_administrative_help_dip
	}
	modifier_overlord = {
		trigger = {
			custom_trigger_tooltip = {
				tooltip = HAS_ADMINISTRATIVE_REGION_ENABLE_ADMINISTRATIVE_HELP
				has_country_flag = administrative_region_enable_administrative_help
			}
			NOT = { liberty_desire = 50 }
			variable_arithmetic_trigger = {
				custom_tooltip = ADMINISTRATIVE_REGION_HAS_BEST_RULER_SKILL_MIL
				export_to_variable = {
					which = adm_var
					value = ADM
				}
				export_to_variable = {
					which = dip_var
					value = DIP
				}
				export_to_variable = {
					which = mil_var
					value = MIL
				}
				NOT = { check_variable = { which = adm_var which = mil_var } }
				NOT = { check_variable = { which = dip_var which = mil_var } }
			}
		}
		modifier = administrative_region_overlord_modifier_administrative_help_mil
	}
	modifier_overlord = {
		trigger = {
			marriage_with = FROM
		}
		modifier = royal_marriage_no_slot_cost_modifier
	}

	overlord_opinion_modifier = is_administrative_region
	subject_opinion_modifier = is_administrative_region
}

viking_settlement = {
	copy_from = colony
	count = colony

	# Graphics:
	sprite = GFX_icon_viking_settlement
	diplomacy_overlord_sprite = GFX_diplomacy_leadviking_settlement
	diplomacy_subject_sprite = GFX_diplomacy_amviking_settlement

	# Triggers:
	is_potential_overlord = {
		religion = norse_pagan_reformed
	}

	# Properties:
	uses_tariffs = no
	can_release_in_peace = yes
	joins_colonial_wars = yes
	overlord_can_be_subject = yes
	can_send_tribute = yes
	uses_military_focus = no
	can_set_mil_focus = no
	change_colonial_type = no
	upgrade_subject_type = yes

	liberty_desire_development_ratio = 0.075

	max_government_rank = 1
	cities_required_for_bonuses = 0 #10

	naval_forcelimit_to_overlord = 0.25

	relative_power_class = 0
	diplomacy_view_class = 1

	should_quit_wars_on_activation = no

	can_fight = {
		other_overlord = viking_settlement
		other_overlord = colony
		other_overlord = crown_colony
		other_overlord = private_enterprise
		other_overlord = self_governing_colony
		other_overlord = annexable_colony
		neighboring_primitives = yes
		colonial_region_nations = yes
	}
	can_rival = {
		other_overlord = viking_settlement
		other_overlord = colony
		other_overlord = crown_colony
		other_overlord = private_enterprise
		other_overlord = self_governing_colony
		other_overlord = annexable_colony
		neighboring_primitives = yes
		colonial_region_nations = yes
	}
	can_ally = {
		neighboring_primitives = yes
		same_overlord = viking_settlement
	}
	can_marry = {
		same_overlord = viking_settlement
	}

	# Subject Interactions:
	increase_tariffs = no
	decrease_tariffs = no
	replace_governor = no
	support_loyalists = yes
	press_sailors = yes
	contribute_to_capital = yes

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = viking_settlement_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = viking_settlement_overlord_modifier
	}
	modifier_overlord = {
		modifier = large_colonial_nation
		trigger = {
			num_of_cities = 10
		}
	}

	overlord_opinion_modifier = is_viking_settlement
	subject_opinion_modifier = is_viking_settlement
}

banking_family_subject = {
	copy_from = default

	# Graphics:
	sprite = GFX_icon_banking_family_subject
	diplomacy_overlord_sprite = GFX_diplomacy_leadbanking_family_subject
	diplomacy_subject_sprite = GFX_diplomacy_ambanking_family_subject

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		OR = {
			AND = {
				full_idea_group = economic_ideas
				full_idea_group = trade_ideas
				OR = {
					full_idea_group = influence_ideas
					full_idea_group = diplomatic_ideas
				}
			}
			government = republic
			# Monarchy
			has_reform = plutocratic_reform
			has_reform = enforce_trader_privileges_reform
			has_reform = bengali_reform
			has_reform = meritocratic_focus_reform
			# Theocracy
			has_reform = pious_merchants_reform
			# Custom Rule
			#has_government_attribute = can_create_banking_family_subject_rule
		}
		NOT = { has_subject_of_type = banking_family_subject }
	}

	# Properties:
	is_voluntary = yes
	joins_overlords_wars = no
	overlord_can_attack = no
	overlord_can_be_subject = yes
	can_have_subjects_of_other_types = yes
	takes_diplo_slot = no
	uses_military_focus = no
	overlord_protects_external = yes
	counts_for_borders = no
	overlord_enforce_peace_attacking = yes
	can_use_claims = no
	can_set_mil_focus = no
	can_send_missionary_to_subject = no
	overlord_can_fabricate_for = no
	does_overlord_size_count_for_warscore_cost = no
	can_concentrate_development = no
	can_have_great_projects_moved_by_overlord = no
	extend_trading_range = yes

	max_government_rank = 1
	cities_required_for_bonuses = 0
	trust_on_start = 35

	base_liberty_desire = -5.0
	liberty_desire_development_ratio = 0.25
	military_focus = 0.5

	relative_power_class = 1
	diplomacy_view_class = 1

	should_quit_wars_on_activation = no

	can_fight = {
		independent_nations = yes
		other_overlord = all
	}
	can_rival = {
		independent_nations = yes
		other_overlord = all
	}
	can_ally = {
		independent_nations = yes
		other_overlord = all
	}
	can_marry = {
		independent_nations = yes
		other_overlord = all
		same_overlord = all
	}

	restoration_cb = cb_disloyal_banking_family_subject

	# Subject Interactions:
	divert_trade = yes
	enforce_religion = no
	grant_province = no
	grant_core_claim = no
	bestow_gifts = yes
	block_settlement_growth = no
	allow_settlement_growth = no
	siphon_income = yes

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = banking_family_subject_modifier
	}
	modifier_subject = {
		trigger = {
			num_of_cities = 1
		}
		modifier = banking_family_subject_size_modifier
	}
	modifier_subject = {
		trigger = {
			num_of_cities = 2
		}
		modifier = banking_family_subject_size_modifier
	}
	modifier_subject = {
		trigger = {
			num_of_cities = 3
		}
		modifier = banking_family_subject_size_modifier
	}
	modifier_subject = {
		trigger = {
			num_of_cities = 4
		}
		modifier = banking_family_subject_size_modifier
	}
	modifier_subject = {
		trigger = {
			custom_trigger_tooltip = {
				tooltip = ENABLED_BANKING_FAMILY_SUBJECT_DEMAND_WAR_CHEST_CONTRIBUTION_TT
				has_country_flag = banking_family_subject_demand_war_chest_contribution
			}
		}
		modifier = banking_family_subject_demand_war_chest_contribution_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = banking_family_subject_overlord_modifier
	}
	modifier_overlord = {
		trigger = {
			custom_trigger_tooltip = {
				tooltip = ENABLED_BANKING_FAMILY_SUBJECT_DEMAND_WAR_CHEST_CONTRIBUTION_TT
				has_country_flag = banking_family_subject_demand_war_chest_contribution
			}
			NOT = { liberty_desire = 50 }
		}
		modifier = banking_family_subject_demand_war_chest_contribution_overlord_modifier
	}
	modifier_overlord = {
		trigger = {
			marriage_with = FROM
		}
		modifier = royal_marriage_no_slot_cost_modifier
	}

	overlord_opinion_modifier = is_banking_family_subject
	subject_opinion_modifier = is_banking_family_subject
}

palatinate_vassal = {
	copy_from = vassal
	count = vassal

	# Graphics:
	sprite = GFX_icon_palatinate_vassal
	diplomacy_overlord_sprite = GFX_diplomacy_leadpalatinate_vassal
	diplomacy_subject_sprite = GFX_diplomacy_ampalatinate_vassal

	# Triggers:
	is_potential_overlord = {
		is_emperor = yes
	}

	# Properties:
	max_government_rank = 2

	pays_overlord = 0

	relative_power_class = 2
	diplomacy_view_class = 1

	# Modifiers:
	modifier_subject = {
		trigger = {
			NOT = { hre_reform_passed = emperor_erbkaisertum }
			NOT = { hre_reform_passed = erbkaisertum }
			is_elector = yes
			FROM = {
				is_emperor = yes
			}
		}
		modifier = palatinate_vassal_emperor_modifier
	}
	modifier_subject = {
		trigger = {
			NOT = { hre_reform_passed = emperor_erbkaisertum }
			NOT = { hre_reform_passed = erbkaisertum }
			is_elector = yes
			FROM = {
				is_emperor = no
			}
			OR = {
				AND = {
					has_dlc = "Emperor"
					hre_reform_passed = emperor_reichsstabilitaet
				}
				AND = {
					NOT = { has_dlc = "Emperor" }
					hre_reform_passed = hofgericht
				}
			}
		}
		modifier = palatinate_vassal_non_emperor_modifier
	}
	modifier_overlord = {
		trigger = {
			NOT = { hre_reform_passed = emperor_erbkaisertum }
			NOT = { hre_reform_passed = erbkaisertum }
			is_elector = yes
			FROM = {
				is_emperor = yes
			}
		}
		modifier = palatinate_vassal_emperor_overlord_modifier
	}

	overlord_opinion_modifier = is_palatinate_vassal
	subject_opinion_modifier = is_palatinate_vassal
}

defensive_march = {
	copy_from = march
	count = march

	# Graphics:
	sprite = GFX_icon_defensive_march
	diplomacy_overlord_sprite = GFX_diplomacy_leaddefensive_march
	diplomacy_subject_sprite = GFX_diplomacy_amdefensive_march

	# Triggers:
	is_potential_overlord = {
		primitives = no
	}

	# Properties:
	relative_power_class = 2
	diplomacy_view_class = 1

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = defensive_march_low_dev_modifier
		trigger = {
			NOT = { development_of_overlord_fraction = 0.25 }
		}
		expiration_message_overlord = MARCHTOOLARGE
		expiration_message_subject = MARCHTOOLARGEUS
	}
	modifier_subject = {
		trigger = {
			has_country_flag = call_defensive_march_to_offensive_war
		}
		modifier = defensive_march_offensive_war_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = march_subject
	}
	modifier_overlord = {
		trigger = {
			NOT = { development_of_overlord_fraction = 0.25 }
			NOT = {
				is_in_war = {
					attackers = ROOT
				}
			}
		}
		modifier = defensive_march_low_dev_overlord_modifier
	}

	overlord_opinion_modifier = is_defensive_march
	subject_opinion_modifier = is_defensive_march
}

annexable_colony = {
	copy_from = colony
	count = colony

	# Graphics:
	sprite = GFX_icon_annexable_colony
	diplomacy_overlord_sprite = GFX_diplomacy_leadannexable_colony
	diplomacy_subject_sprite = GFX_diplomacy_amannexable_colony

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		is_year = 1500
	}

	# Properties:
	relative_power_class = 0
	diplomacy_view_class = 1

	annex_cost_per_development = 1.5

	can_send_missionary_to_subject = yes
	can_be_annexed = yes

	can_fight = {
		other_overlord = viking_settlement
		other_overlord = colony
		other_overlord = crown_colony
		other_overlord = private_enterprise
		other_overlord = self_governing_colony
		other_overlord = annexable_colony
		neighboring_primitives = yes
		colonial_region_nations = yes
	}
	can_rival = {
		other_overlord = viking_settlement
		other_overlord = colony
		other_overlord = crown_colony
		other_overlord = private_enterprise
		other_overlord = self_governing_colony
		other_overlord = annexable_colony
		neighboring_primitives = yes
		colonial_region_nations = yes
	}
	can_ally = {
		neighboring_primitives = yes
	}
}

agricultural_march = {
	copy_from = march
	count = march

	# Graphics:
	sprite = GFX_icon_agricultural_march
	diplomacy_overlord_sprite = GFX_diplomacy_leadagricultural_march
	diplomacy_subject_sprite = GFX_diplomacy_amagricultural_march

	# Triggers:
	is_potential_overlord = {
		primitives = no
	}

	# Properties:
	relative_power_class = 2
	diplomacy_view_class = 1

	base_liberty_desire = -10.0
	is_march = yes

	manpower_to_overlord = 0.2

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = agricultural_march_low_dev_modifier
		trigger = {
			NOT = { development_of_overlord_fraction = 0.25 }
		}
		expiration_message_overlord = MARCHTOOLARGE
		expiration_message_subject = MARCHTOOLARGEUS
	}
	modifier_subject = {
		modifier = agricultural_march_seize_production_modifier
		trigger = {
			has_country_flag = agricultural_march_seize_production
		}
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = march_subject
	}
	modifier_overlord = {
		modifier = agricultural_march_seize_production_overlord_modifier
		trigger = {
			has_country_flag = agricultural_march_seize_production
			NOT = { liberty_desire = 50 }
		}
	}

	overlord_opinion_modifier = is_agricultural_march
	subject_opinion_modifier = is_agricultural_march
}

religious_march = {
	copy_from = march
	count = march

	# Graphics:
	sprite = GFX_icon_religious_march
	diplomacy_overlord_sprite = GFX_diplomacy_leadreligious_march
	diplomacy_subject_sprite = GFX_diplomacy_amreligious_march

	# Triggers:
	is_potential_overlord = {
		primitives = no
		OR = {
			full_idea_group = religious_ideas
			#VU - Hashed this out as it has nothing to do with our mod. By San Felipe
			#AND = {
			#	has_global_flag = extended_timeline_mod
			#	#full_idea_group = early_religious_ideas
			#	NOT = { adm_tech = 50 }
			#}
			AND = {
				#has_global_flag = idea_groups_expanded_mod_active #VU - Hashed this out as we don't use IGE
				OR = {
					AND = {
						religion_group = christian
						#full_idea_group = christian_idea_groups_expanded
					}
					AND = {
						religion_group = muslim
						#full_idea_group = muslim_idea_groups_expanded
					}
					AND = {
						religion = confucianism
						#full_idea_group = confucian_idea_groups_expanded
					}
				}
			}
		}
	}

	# Properties:
	relative_power_class = 2
	diplomacy_view_class = 1

	is_march = yes

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = religious_march_low_dev_modifier
		trigger = {
			NOT = { development_of_overlord_fraction = 0.25 }
		}
		expiration_message_overlord = MARCHTOOLARGE
		expiration_message_subject = MARCHTOOLARGEUS
	}
	modifier_subject = {
		modifier = religious_march_increased_conversion_efforts_modifier
		trigger = {
			has_country_flag = religious_march_increased_conversion_efforts
			NOT = { development_of_overlord_fraction = 0.25 }
		}
	}
	modifier_subject = {
		modifier = religious_march_wrong_religion_modifier
		trigger = {
			NOT = { religion = FROM }
		}
	}
	modifier_subject = {
		modifier = religious_march_high_religious_unity_modifier
		trigger = {
			religious_unity = 1
		}
	}
	modifier_subject = {
		modifier = religious_march_no_heretic_neighbor_unity_modifier
		trigger = {
			NOT = { has_border_with_religious_enemy = yes }
		}
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = march_subject
	}

	overlord_opinion_modifier = is_religious_march
	subject_opinion_modifier = is_religious_march
}

stato_da_mar_vassal = {
	copy_from = default
	count = vassal

	# Graphics:
	sprite = GFX_icon_stato_da_mar_vassal
	diplomacy_overlord_sprite = GFX_diplomacy_leadstato_da_mar_vassal
	diplomacy_subject_sprite = GFX_diplomacy_amstato_da_mar_vassal

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		OR = {
			AND = {
				OR = {
					tag = VEN
					culture_group = latin
				}
				has_government_attribute = is_merchant_republic
			}
			# Custom Rule
			has_government_attribute = can_create_stato_da_mar_vassal_rule
		}
	}

	# Properties:
	transfer_trade_power = yes
	can_be_annexed = yes
	takes_diplo_slot = no
	has_power_projection = no
	gets_help_with_rebels = yes
	extend_trading_range = yes

	max_government_rank = 1
	cities_required_for_bonuses = 0
	trust_on_start = 35

	base_liberty_desire = -10
	liberty_desire_development_ratio = 0.15
	liberty_desire_same_dynasty = -5.0
	liberty_desire_revolution = 0
	pays_overlord = 0.25
	forcelimit_to_overlord = 0.05

	relative_power_class = 6
	diplomacy_view_class = 1

	should_quit_wars_on_activation = yes

	can_fight = {
	}
	can_rival = {
	}
	can_ally = {
		same_overlord = stato_da_mar_vassal
	}
	can_marry = {
		same_overlord = vassal
		same_overlord = stato_da_mar_vassal
	}

	# Subject Interactions:
	# (continuous)
	scutage = yes
	# (immediate)
	seize_territory = yes
	contribute_to_capital = yes

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_subject = {
		modifier = stato_da_mar_vassal_modifier
	}
	modifier_subject = {
		trigger = {
			custom_trigger_tooltip = {
				tooltip = STATO_DA_MAR_VASSAL_IS_MERCHANT_REPUBLIC_TT
				has_government_attribute = is_merchant_republic
			}
		}
		modifier = stato_da_mar_vassal_merchant_republic_modifier
	}
	modifier_subject = {
		trigger = {
			capital_scope = {
				custom_trigger_tooltip = {
					tooltip = STATO_DA_MAR_VASSAL_HOME_NODE_HAS_MERCHANT_FROM_OVERLORD_TT
					has_merchant = FROM
				}
			}
		}
		modifier = stato_da_mar_vassal_overlord_trading_modifier
	}
	modifier_subject = {
		modifier = stato_da_mar_vassal_seized_merchant_fleets_modifier
		trigger = {
			custom_trigger_tooltip = {
				tooltip = STATO_DA_MAR_VASSAL_HAS_SEIZE_MERCHANT_FLEETS_TT
				has_country_flag = stato_da_mar_vassal_seize_merchant_fleets
			}
		}
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = stato_da_mar_vassal_overlord_modifier
	}
	modifier_overlord = {
		trigger = {
			capital_scope = {
				OR = {
					trade_share = {
						country = ROOT
						share = 50
					}
					custom_trigger_tooltip = {
						tooltip = STATO_DA_MAR_VASSAL_HOME_NODE_OVERLORD_HAS_75_TRADE_POWER_TT
						trade_share = {
							country = FROM
							share = 75
						}
					}
				}
			}
		}
		modifier = stato_da_mar_vassal_merchant_overlord_modifier
	}
	modifier_overlord = {
		modifier = stato_da_mar_vassal_seized_merchant_fleets_overlord_modifier
		trigger = {
			custom_trigger_tooltip = {
				tooltip = STATO_DA_MAR_VASSAL_HAS_SEIZE_MERCHANT_FLEETS_TT
				has_country_flag = stato_da_mar_vassal_seize_merchant_fleets
			}
			NOT = { liberty_desire = 50 }
		}
	}

	overlord_opinion_modifier = is_stato_da_mar_vassal
	subject_opinion_modifier = is_stato_da_mar_vassal
}

medieval_vassal = {
	copy_from = default

	# Graphics:
	sprite = GFX_icon_medieval_vassal
	diplomacy_overlord_sprite = GFX_diplomacy_leadmedieval_vassal
	diplomacy_subject_sprite = GFX_diplomacy_ammedieval_vassal

	# Triggers:
	is_potential_overlord = {
		is_subject = no
		OR = {
			government_rank = 2
			AND = {
				NOT = { has_dlc = "Common Sense" }
				total_development = 300
			}
		}
		OR = {
			government = monarchy
			# Custom Rule
			#has_government_attribute = can_create_medieval_vassal_rule
		}
		OR = {
			AND = {
				#VU - Hashed this out as it has nothing to do with our mod. By San Felipe
				#has_global_flag = extended_timeline_mod
				#OR = {
				#	AND = {
				#		#current_age = dark_age
				#		#has_institution = early_feudalism
				#	}
				#	#current_age = feudal_age
				#	#current_age = high_middle_ages
				#	#current_age = late_middle_ages
				#}
				OR = {
					religion_group = christian
					religion_group = muslim
					capital_scope = {
						continent = europe
					}
					# Custom Rule
					#has_government_attribute = can_create_medieval_vassal_rule
				}
			}
			AND = {
				OR = {
					current_age = age_of_discovery
					current_age = age_of_reformation
				}
				OR = {
					has_reform = feudalism_reform
					has_reform = feudal_theocracy
					# Governments Expanded reforms
					#has_reform = french_feudalism
					has_reform = ancien_regime_reform
					has_reform = arch_monarchy_reform
					has_reform = grand_duchy_reform
					has_reform = lithuania_warlord_duke
					has_reform = beylik_government
					has_reform = kingdom_of_castille_and_leon
					has_reform = crown_of_castille
					has_reform = hispanic_kingdom
					has_reform = crown_of_aragon
					has_reform = portuguese_monarchy_reform
					has_reform = kingdom_of_portugal_and_azures
					has_reform = crown_of_saint_wenceslaus
					has_reform = office_of_lord_regent_reform
					has_reform = arch_king_reform
					has_reform = austrian_archduchy_reform
					has_reform = habsburg_monarchy_reform
					has_reform = austrian_empire_reform
					has_reform = granadan_iqta_reform
					# Extended Timeline reforms
					#has_reform = salic_reform
					#has_reform = imperial_march_reform
					# Custom Rule
					#has_government_attribute = can_create_medieval_vassal_rule
				}
			}
		}
	}

	# Properties:
	is_voluntary = yes
	joins_overlords_wars = no
	can_have_subjects_of_other_types = yes
	uses_military_focus = no
	overlord_protects_external = yes
	counts_for_borders = no
	can_use_claims = no
	share_rebel_popup = no
	allows_taking_land_without_independence = yes
	can_transfer_in_peace = no
	can_send_tribute = yes
	can_set_mil_focus = no
	can_send_missionary_to_subject = no
	overlord_can_fabricate_for = no
	does_overlord_size_count_for_warscore_cost = no
	can_concentrate_development = no
	can_have_great_projects_moved_by_overlord = no
	should_quit_wars_on_activation = no
	transfer_subjects_when_made = yes

	max_government_rank = 1
	cities_required_for_bonuses = 0
	trust_on_start = 35

	base_liberty_desire = -5
	liberty_desire_negative_prestige = 1
	liberty_desire_development_ratio = 0.185
	liberty_desire_same_dynasty = -10
	forcelimit_to_overlord = 0.05

	relative_power_class = 1
	diplomacy_view_class = 1

	can_fight = {
		independent_nations = yes
		other_overlord = all
		same_overlord = medieval_vassal
	}
	can_rival = {
		independent_nations = yes
		other_overlord = all
		same_overlord = medieval_vassal
	}
	can_ally = {
		independent_nations = yes
		other_overlord = all
		same_overlord = medieval_vassal
		same_overlord = brother_kingdom
		same_overlord = fief_subject
	}
	can_marry = {
		independent_nations = yes
		other_overlord = all
		same_overlord = medieval_vassal
		same_overlord = brother_kingdom
		same_overlord = fief_subject
	}

	# Subject Interactions:
	# (immediate)
	place_relative_on_throne = yes
	enforce_religion = no
	grant_province = yes
	grant_core_claim = no
	siphon_income = yes
	demand_additional_tribute = yes
	contribute_to_capital = yes

	# Modifiers:
	modifier_subject = clear
	modifier_subject = {
		modifier = medieval_vassal_modifier
	}
	modifier_subject = {
		trigger = {
			has_country_flag = medieval_vassal_disallowed_war
		}
		modifier = medieval_vassal_no_war_modifier
	}
	modifier_subject = {
		trigger = {
			FROM = {
				NOT = { months_of_ruling = 24 }
			}
		}
		modifier = medieval_vassal_new_overlord_modifier
	}
	modifier_subject = {
		trigger = {
			years_in_vassalage_under = {
				who = FROM
				years = 30
				all_subject_country = yes
			}
		}
		modifier = medieval_vassal_longtime_subject_modifier
	}

	modifier_overlord = clear
	modifier_overlord = {
		modifier = medieval_vassal_overlord_modifier
	}

	overlord_opinion_modifier = is_medieval_vassal
	subject_opinion_modifier = is_medieval_vassal
}

#VU
canton = {
	copy_from = default
	
	# Graphics:
	sprite = GFX_icon_canton
	diplomacy_overlord_sprite = GFX_diplomacy_leadcanton
	diplomacy_subject_sprite = GFX_diplomacy_amcanton
	
	# Triggers:
	is_potential_overlord = { has_country_flag = can_make_canton } 			# This part is not copied in copy_from. Actual default is equivalent to always = yes
	
	# Properties:
	can_fight_independence_war = yes
	joins_overlords_wars = yes
	overlord_can_be_subject = yes 
	can_be_annexed = yes 
	takes_diplo_slot = no
	can_release_in_peace = yes
	counts_for_borders = yes
	overlord_enforce_peace_attacking = yes
	can_use_claims = yes	
	share_rebel_popup = yes	
	can_set_mil_focus = yes
	can_send_missionary_to_subject = yes	
	overlord_can_fabricate_for = yes
	max_government_rank = 1
	
	base_liberty_desire = 0.0
	liberty_desire_negative_prestige = 0.0
	liberty_desire_development_ratio = 0.2
	liberty_desire_same_dynasty = -10.0
	pays_overlord = 1.0
	forcelimit_to_overlord = 0.25
	manpower_to_overlord = 0.1
	
	relative_power_class = 1
	restoration_cb = cb_disloyal_vassal
	
	# Subject Interactions:
	scutage = yes
	place_relative_on_throne = yes
	sacrifice_ruler = yes
	sacrifice_heir = yes
	divert_trade = yes
	seize_territory = yes
	embargo_rivals = yes
	send_officers = yes
	placate_rulers = yes
	takeondebt = yes
	knowledge_sharing = yes
	
	# Modifiers:
	modifier_subject = clear 
	modifier_subject = {
		modifier = vassal_nation
	}
	
	modifier_overlord = clear
	modifier_overlord = {
		modifier = vassal_subject
	}
	modifier_overlord = {
		modifier = swi_canton_republican_ties_modifier
	}
	
	
	overlord_opinion_modifier = is_vassal
	subject_opinion_modifier = is_vassal
}
