#VU Buildings
#Leisure - Department added to VU by San Felipe
park = { #Gardens were actually pretty expensive to set up and occupied a lot of land.
	cost = 500 #VU - Increased from 100 to 500 in v1.36.2.* by San Felipe
	time = 12
	#one_per_country = yes
	modifier = { 
		local_prosperity_growth = 0.25
		local_development_cost = -0.05
		local_culture_conversion_cost = -0.25
		local_culture_conversion_time = -0.25
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
botanical_gardens = { #Botanical gardens are also very expensive like Zoos to set up due to more or less the same requirements with regards to hiring experts and sanctioning global expeditions in order to acquire insects and exotic animals and or plants. 
	cost = 750 #VU - Increased from 400 to 750 in v1.36.2.* by San Felipe
	time = 24
	one_per_country = yes

	modifier = { 
		local_prosperity_growth = 0.5
		local_development_cost = -0.1
		culture_conversion_cost = -0.1
		culture_conversion_time = -0.1
	}
	build_trigger = { 
		is_state = yes
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
zoo = { #Zoos were also very expensive to set up due to the acquisition of wild animals from far away lands and the risk involved, not to mention the expertise needed in order to acquire said wild beasts.
	cost = 1000 #VU - Increased from 300 to 750 in v1.36.2.* by San Felipe
	time = 36
	one_per_country = yes
	modifier = { 
		local_prosperity_growth = 0.5
		local_development_cost = -0.1
		culture_conversion_cost = -0.1
		culture_conversion_time = -0.1
	}
	build_trigger = { 
		is_state = yes
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
#Healthcare - Department added to VU by San Felipe
apothecary = { #Apothecaries are precursors of the modern day pharmacy, acting as both the later and as clinics where ordinary citizens can go to acquire potions, herbal remedies and or cures.
	cost = 150 #VU - Increased from 100 to 150 in v1.36.2.* by San Felipe
	time = 12
	#one_per_country = yes
	modifier = { 
		land_attrition = -0.002
		monarch_lifespan = 0.002 
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
barber = { #Barbers were the precursors to modern day surgeries wherin their propriators practiced both surgical operations and or dental treatments.
	cost = 175 #VU - Decreased from 250 to 175 in v1.36.2.* by San Felipe
	time = 24
	#one_per_country = yes
	modifier = { 
		manpower_recovery_speed = 0.002 
		monarch_lifespan = 0.002 
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
hospital = { #Contrary to popular belief, Hospitals were actually fairly common and usually set up after major battles via surgical tents or aquiring peoples homes and or establishments and turning them into makeshift Hospitals.
	cost = 500 #VU - Decreased from 400 to 200 in v1.36.2.* by San Felipe
	time = 36
	#one_per_country = yes
	modifier = { 
		manpower_recovery_speed = 0.005 
		monarch_lifespan = 0.002
	}
	build_trigger = { 
		is_state = yes
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
#Sanitation - Department added to VU by San Felipe
cesspit = {
	cost = 150 #VU - Increased from 100 to 150 in v1.36.2.* by San Felipe
	time = 12
	#one_per_country = yes
	modifier = { 
		local_unrest = -0.5
		local_development_cost = -0.05
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
bath_house = {
	cost = 300 #VU - Kept at 300 in v1.36.2.* by San Felipe
	time = 24
	#one_per_country = yes
	modifier = { 
		local_unrest = -0.75
		local_development_cost = -0.075
	}
	make_obsolete = cesspit
	build_trigger = {
		is_state = yes	
	}
	on_built = {
		add_development_from_upgrading_or_building = {
			building = bath_house
			obsolete_building = cesspit
			type = manpower
			value = 2
			upgrade_value = 1
		}
	}
	on_destroyed = {
		remove_development_from_building = {
			building = bath_house
			type = manpower
			value = 2
		}
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
sewer_system = {
	cost = 450 #VU - Decreased from 800 to 600 in v1.36.2.* by San Felipe
	time = 36
	#one_per_country = yes
	modifier = { 
		local_unrest = -1
		local_development_cost = -0.1
	}
	make_obsolete = bath_house
	build_trigger = {
		is_state = yes
	}
	on_built = {
		add_development_from_upgrading_or_building = {
			building = sewer_system
			obsolete_building = bath_house
			type = manpower
			value = 2
			upgrade_value = 1
		}
	}
	on_destroyed = {
		remove_development_from_building = {
			building = sewer_system
			type = manpower
			value = 2
		}
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
latrines = {
	cost = 600 #VU - Increased from 400 to 450 in v1.36.2.* by San Felipe
	time = 48
	#one_per_country = yes
	make_obsolete = sewer_system
	modifier = { 
		local_unrest = -2
		local_development_cost = -0.2
	}
	build_trigger = { 
		is_state = yes
	}
	on_built = {
		add_development_from_upgrading_or_building = {
			building = latrines
			obsolete_building = sewer_system
			type = manpower
			value = 2
			upgrade_value = 1
		}
	}
	on_destroyed = {
		remove_development_from_building = {
			building = latrines
			type = manpower
			value = 2
		}
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
#Water - Department added to VU by San Felipe

well = {
	cost = 150 #VU - Decreased from 100 to 75 in v1.36.2.* by San Felipe
	time = 12
	#one_per_country = yes
	modifier = { 
		supply_limit_modifier = 0.1
		local_development_cost = -0.05
		local_build_time = -0.05
		local_build_cost = -0.05
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
aqueduct = {
	cost = 300 #VU - Decreased from 300 to 225 in v1.36.2.* by San Felipe
	time = 24
	#one_per_country = yes
	modifier = { 
		supply_limit_modifier = 0.15
		local_development_cost = -0.075
		local_build_time = -0.075
		local_build_cost = -0.075
	}
	make_obsolete = well
	build_trigger = {
		is_state = yes	
	}
	on_built = {
		add_development_from_upgrading_or_building = {
			building = aqueduct
			obsolete_building = well
			type = manpower
			value = 2
			upgrade_value = 1
		}
	}
	on_destroyed = {
		remove_development_from_building = {
			building = aqueduct
			type = manpower
			value = 2
		}
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
distillery = {
	cost = 450 #VU - Increased from 400 to 450 in v1.36.2.* by San Felipe
	time = 36
	#one_per_country = yes
	modifier = { 
		supply_limit_modifier = 0.2
		local_development_cost = -0.1
		local_build_time = -0.1
		local_build_cost = -0.1
	}
	make_obsolete = aqueduct
	build_trigger = { 
		is_state = yes	
	}
	on_built = {
		add_development_from_upgrading_or_building = {
			building = distillery
			obsolete_building = aqueduct
			type = manpower
			value = 2
			upgrade_value = 1
		}
	}
	on_destroyed = {
		remove_development_from_building = {
			building = distillery
			type = manpower
			value = 2
		}
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
pump_house = {
	cost = 900 #VU - Increased from 800 to 900 in v1.36.2.* by San Felipe
	time = 48
	#one_per_country = yes
	modifier = { 
		supply_limit_modifier = 0.25
		local_development_cost = -0.2
		local_build_time = -0.2
		local_build_cost = -0.2
	}
	make_obsolete = distillery
	build_trigger = {
		is_state = yes	
	}
	on_built = {
		add_development_from_upgrading_or_building = {
			building = pump_house
			obsolete_building = distillery
			type = manpower
			value = 2
			upgrade_value = 1
		}
	}
	on_destroyed = {
		remove_development_from_building = {
			building = pump_house
			type = manpower
			value = 2
		}
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
#Entertainment - Department added to VU by San Felipe
wrestling = {
	cost = 150 #VU - Increased from 100 to 150 in v1.36.2.* by San Felipe
	time = 12
	#one_per_country = yes
	modifier = { 
		local_hostile_movement_speed = -0.1
		local_manpower_modifier = 0.1 
		regiment_recruit_speed = -0.1
		local_regiment_cost = -0.1
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
theatrics = {
	cost = 300 #VU - Kept at 300 in v1.36.2.* by San Felipe
	time = 24
	#one_per_country = yes
	modifier = { 
		local_governing_cost_increase = -1
		local_autonomy = -0.2 
		local_unrest = -0.5 
	}
	build_trigger = {
		is_state = yes
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
operatics = {
	cost = 450 #VU - Increased from 400 to 450 in v1.36.2.* by San Felipe
	time = 36
	#one_per_country = yes
	modifier = { 
		local_governing_cost_increase = -1
		local_autonomy = -0.3
		local_unrest = -0.75
	}
	make_obsolete = theatrics
	build_trigger = {
		#is_year = 1637 #Venice's Teatro San Cassiano
		is_state = yes
	}
	on_built = {
		add_development_from_upgrading_or_building = {
			building = operatics
			obsolete_building = theatrics
			type = tax
			value = 2
			upgrade_value = 1
		}
	}
	on_destroyed = {
		remove_development_from_building = {
			building = operatics
			type = tax
			value = 2
		}
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
cinema = {
	cost = 900 #VU - Kept at 800 in v1.36.2.* by San Felipe
	time = 48
	#one_per_country = yes
	modifier = { 
		local_governing_cost_increase = -2
		local_autonomy = -0.4
		local_unrest = -1
	}
	make_obsolete = operatics
	build_trigger = {
		is_state = yes	
	}
	on_built = {
		add_development_from_upgrading_or_building = {
			building = cinema
			obsolete_building = operatics
			type = tax
			value = 2
			upgrade_value = 1
		}
	}
	on_destroyed = {
		remove_development_from_building = {
			building = cinema
			type = tax
			value = 2
		}
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#TGE Buildings
#TGE addition
#Foreign & Domestic - Department added to VU by San Felipe
spy_agency = {
	cost = 750 #VU - Re-adjusted from 3000 to 150 in v1.36.2.* by San Felipe
	time = 12

	one_per_country = yes

	modifier = { 
		diplomats = 1 
		ae_impact = -0.05 
		unjustified_demands = -0.075 
		spy_offence = 0.1 
		global_spy_defence = 0.1 
	}
	build_trigger = { 
		is_state = yes
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#Court House

#VU - Addition by San Felipe
foreign_office = {
	cost = 750 #VU - Re-adjusted from 3000 to 300 in v1.36.2.* by San Felipe
	time = 12

	one_per_country = yes

	modifier = { 
		core_creation = -0.05
		diplomatic_reputation = 1 
		envoy_travel_time = -0.2 
	} 
	build_trigger = {
		is_state = yes
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
supreme_court = {
	cost = 1500
	time = 12

	one_per_country = yes

	modifier = { 
		governing_capacity = 300 
		possible_policy = 1 
		all_power_cost = -0.025 
		yearly_corruption = -0.1 
	}
	build_trigger = { 
		is_state = yes
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
#Revenue & Customs - Department added to VU by San Felipe
custom_house = {
	cost = 250 #VU - Lowered from 270 to 250 in v1.36.2.* by San Felipe
	time = 12
	modifier = { 
		global_tariffs = 0.005
		global_own_trade_power = 0.005
		province_trade_power_modifier = 0.1
	}
	build_trigger = {
		is_state = yes
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#TGE Buiding
stamp_office = {
	cost = 250 #VU - Increased from 150 to 250 in v1.36.2.* by San Felipe
	time = 12
	modifier = { 
		land_maintenance_modifier = -0.002
		tax_income = 1 
	}
	build_trigger = { 
		is_state = yes
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
excise_office = {
	cost = 250 #VU - Lowered from 360 to 250 in v1.36.2.* by San Felipe
	time = 12
	modifier = { 
		global_tax_income = 1 
		local_tax_modifier = 0.25
	}
	build_trigger = { 
		is_state = yes
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
#Couriers - Department added to VU by San Felipe
pigeon_shed = {
	cost = 150 #VU - Increased from 100 to 150 in v1.36.2.* by San Felipe
	time = 12
	modifier = { 
		local_institution_spread = 0.1
		local_governing_cost = -0.1
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
relay_stations = {
	cost = 300 #VU - Increased from 180 to 300 in v1.36.2.* by San Felipe
	time = 24
	modifier = { 
		local_institution_spread = 0.25 
		local_governing_cost = -0.2
	}
	make_obsolete = pigeon_shed
	build_trigger = { 
		is_state = yes
	}
	on_built = {
		add_development_from_upgrading_or_building = {
			building = relay_stations
			obsolete_building = pigeon_shed
			type = production
			value = 2
			upgrade_value = 1
		}
	}
	on_destroyed = {
		remove_development_from_building = {
			building = relay_stations
			type = production
			value = 2
		}
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
telephone_exchange = {
	cost = 450 #VU - Increased from 180 to 900 in v1.36.2.* by San Felipe
	time = 36

	modifier = { 
		local_institution_spread = 0.5
		local_governing_cost = -0.3
	}
	make_obsolete = relay_stations
	build_trigger = {
		is_state = yes
	}
	on_built = {
		add_development_from_upgrading_or_building = {
			building = telephone_exchange
			obsolete_building = relay_stations
			type = production
			value = 2
			upgrade_value = 1
		}
	}
	on_destroyed = {
		remove_development_from_building = {
			building = telephone_exchange
			type = production
			value = 2
		}
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
radio_station = {
	cost = 900 #VU - Increased from 360 to 450 in v1.36.2.* by San Felipe
	time = 48
	modifier = { 
		local_institution_spread = 1
		local_governing_cost = -0.5
	}
	make_obsolete = telephone_exchange
	build_trigger = {
		is_state = yes
	}
	on_built = {
		add_development_from_upgrading_or_building = {
			building = radio_station
			obsolete_building = telephone_exchange
			type = production
			value = 2
			upgrade_value = 1
		}
	}
	on_destroyed = {
		remove_development_from_building = {
			building = radio_station
			type = production
			value = 2
		}
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
#Public Safety - Department added to VU by San Felipe
fire_office = {
	cost = 150 #VU - Increased from 90 to 250 in v1.36.2.* by San Felipe
	time = 12
	modifier = { 
		local_monthly_devastation = -0.1
		local_development_cost = -0.05
	}
	build_trigger = { 
		is_state = yes
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
guard_house = {
	cost = 300 #VU - Increased from 180 to 500 in v1.36.2.* by San Felipe
	time = 24
	modifier = { 
		local_autonomy = -0.002
		global_rebel_suppression_efficiency = 0.002
	}
	build_trigger = {
		is_state = yes
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
penitentiary = {
	cost = 600 #VU - Increased from 360 to 750 in v1.36.2.* by San Felipe
	time = 36

	one_per_country = yes

	modifier = { 
		local_autonomy = -1
		global_rebel_suppression_efficiency = 4
	}
	build_trigger = { 
		is_state = yes
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
#Discoveries - Department added to VU by San Felipe

#VU - Addition by San Felipe
observatory = {
	cost = 750 #VU - Re-adjusted from 3000 to 300 in v1.36.2.* by San Felipe
	time = 12

	modifier = { 
		promote_culture_cost = -0.002
		technology_cost = -0.002
	}
	build_trigger = {
		is_state = yes
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}
archaeological_dig = {
	cost = 750 #VU - Re-adjusted from 3000 to 300 in v1.36.2.* by San Felipe
	time = 12

	modifier = { 
		prestige = 0.1
		idea_cost = -0.01
	}
	build_trigger = {
		ROOT = {
			has_province_modifier = vu_potential_archaeological_dig
		}
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
national_museum = {
	cost = 1500 #VU - Re-adjusted from 3000 to 300 in v1.36.2.* by San Felipe
	time = 24

	one_per_country = yes

	modifier = { 
		prestige = 1
		prestige_decay = -0.01
		development_cost = -0.05
	}
	build_trigger = {
		is_state = yes
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
natural_history_museum = {
	cost = 3000 #VU - Re-adjusted from 3000 to 300 in v1.36.2.* by San Felipe
	time = 36

	one_per_country = yes

	modifier = { 
		prestige = 1
		prestige_decay = -0.01
		development_cost = -0.1
	}
	build_trigger = { 
		is_state = yes
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
#Offence - Department added to VU by San Felipe
#TGE addition
armory = {
	cost = 750 #VU - Re-adjusted from 3000 to 250 in v1.36.2.* by San Felipe
	time = 24

	one_per_country = yes

	modifier = { 
		free_land_leader_pool = 1 
		special_unit_forcelimit = 1.0
	}
	build_trigger = {
		is_state = yes
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
war_office = {
	cost = 1500 #VU - Re-adjusted from 3000 to 300 in v1.36.2.* by San Felipe
	time = 24

	one_per_country = yes

	modifier = { 
		free_land_leader_pool = 1
		max_general_shock = 1 
		max_general_fire = 1
	}
	build_trigger = { 
		is_state = yes
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#VU - Addition by San Felipe
admiralty = {
	cost = 1500 #VU - Re-adjusted from 3000 to 300 in v1.36.2.* by San Felipe
	time = 24

	one_per_country = yes

	modifier = { 
		free_navy_leader_pool = 2
		max_admiral_shock = 1
		max_admiral_fire = 1
	}
	build_trigger = { 
		is_state = yes
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10.0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#ME buildings
el_escorial = {
	cost = 10000
	time = 240
	onmap = no

	one_per_country = yes

	build_trigger = {
		is_capital = yes
		owner = {
			tag = SPA
			government = monarchy
		}
	}

	modifier = {
		prestige = 0.5
		legitimacy = 1
		papal_influence = 1
		state_maintenance_modifier = -0.1
		global_autonomy = -0.05
		yearly_absolutism = 0.25
	}

	ai_will_do = {
		factor = 0
		modifier = {
			factor = 0
			FROM = {
				treasury = 27500
			}
		}
	}
}

blast_furnace = {
	cost = 2000
	time = 60
	onmap = no

	build_trigger = {
		FROM = {
			has_country_flag = RHN_Blast_furnaces
		}
	}

	modifier = {
		trade_value = 4
		allowed_num_of_buildings = 1
		local_production_efficiency = 0.2
		local_development_cost = -0.1
		local_development_cost_modifier = -0.20
	}

	ai_will_do = {
		factor = 0
		modifier = {
			factor = 0
			FROM = {
				treasury = 27500
			}
		}
	}
}

UKS_Palace = {
	cost = 2500
	time = 240
	onmap = no

	one_per_country = yes

	build_trigger = {
		FROM = {
			OR = {
				mission_completed = UKS_bromance
				AND = {
					is_subject = yes
					overlord = {
						mission_completed = UKS_bromance
					}
				}
			}
		}
	}

	modifier = {
		monthly_splendor = 2
		legitimacy = 0.5
		max_absolutism = 5
		allowed_num_of_buildings = 1
	}

	ai_will_do = {
		factor = 0
		modifier = {
			factor = 0
			FROM = {
				treasury = 27500
			}
		}
	}
}

UKS_Palace_2 = {
	cost = 2500
	time = 240
	onmap = no

	one_per_country = yes

	build_trigger = {
		FROM = {
			OR = {
				mission_completed = UKS_bromance
				AND = {
					is_subject = yes
					overlord = {
						mission_completed = UKS_bromance
					}
				}
			}
		}
	}

	modifier = {
		monthly_splendor = 4
		legitimacy = 1
		max_absolutism = 10
		allowed_num_of_buildings = 1
	}

	ai_will_do = {
		factor = 0
		modifier = {
			factor = 0
			FROM = {
				treasury = 27500
			}
		}
	}
}

white_house_building = {
	cost = 2000
	time = 96
	onmap = no

	one_per_country = yes

	build_trigger = {
		province_id = 953
		owner = {
			tag = USA
		}
	}

	modifier = {
		prestige = 0.5
		administrative_efficiency = 0.025
	}

	ai_will_do = {
		factor = 0
		modifier = {
			factor = 0
			FROM = {
				treasury = 27500
			}
		}
	}
}

KOR_wall = {
	cost = 200
	time = 24
	onmap = no


	build_trigger = {
		FROM = { has_country_flag = KOR_great_wall }
	}

	modifier = {
		allowed_num_of_buildings = 1
		local_defensiveness = 0.25
	}

	ai_will_do = {
		factor = 0
		modifier = {
			factor = 0
			FROM = {
				treasury = 27500
			}
		}
	}
}

rhineland_building_upgrade_bell = {
	cost = 0
	time = 60
	onmap = no

	build_trigger = {
		always = yes
	}

	on_built = {
		owner = {
			if = {
				limit = {
					has_country_modifier = RHN_bell_2
				}
				add_country_modifier = {
					name = RHN_bell_3
					duration = -1
				}
				remove_country_modifier = RHN_bell_2
			}
			else_if = {
				limit = {
					has_country_modifier = RHN_bell_1
				}
				add_country_modifier = {
					name = RHN_bell_2
					duration = -1
				}
				remove_country_modifier = RHN_bell_1
			}
			else = {
				add_country_modifier = {
					name = RHN_bell_1
					duration = -1
				}
			}
		}
		remove_building = rhineland_building_upgrade_bell
	}
	ai_will_do = {
		factor = 0
		modifier = {
			factor = 0
			FROM = {
				treasury = 27500
			}
		}
	}
}

rhineland_building_upgrade_landtag = {
	cost = 0
	time = 60
	onmap = no

	build_trigger = {
		always = yes
	}
	
	on_built = {
		owner = {
			if = {
				limit = {
					has_country_modifier = RHN_landtag_2
				}
				add_country_modifier = {
					name = RHN_landtag_3
					duration = -1
				}
				remove_country_modifier = RHN_landtag_2
			}
			else_if = {
				limit = {
					has_country_modifier = RHN_landtag_1
				}
				add_country_modifier = {
					name = RHN_landtag_2
					duration = -1
				}
				remove_country_modifier = RHN_landtag_1
			}
			else = {
				add_country_modifier = {
					name = RHN_landtag_1
					duration = -1
				}
			}
		}
		remove_building = rhineland_building_upgrade_landtag
	}
	ai_will_do = {
		factor = 0
		modifier = {
			factor = 0
			FROM = {
				treasury = 27500
			}
		}
	}
}

rhineland_building_upgrade_palace = {
	cost = 0
	time = 60
	onmap = no

	build_trigger = {
		always = yes
	}
	
	on_built = {
		owner = {
			if = {
				limit = {
					has_country_modifier = RHN_palace_2_modifier
				}
				add_country_modifier = {
					name = RHN_palace_3_modifier
					duration = -1
				}
				remove_country_modifier = RHN_landtag_2
			}
			else_if = {
				limit = {
					has_country_modifier = RHN_palace_1_modifier
				}
				add_country_modifier = {
					name = RHN_palace_2_modifier
					duration = -1
				}
				remove_country_modifier = RHN_landtag_1
			}
			else = {
				add_country_modifier = {
					name = RHN_palace_1_modifier
					duration = -1
				}
			}
		}
		remove_building = rhineland_building_upgrade_palace
	}
	ai_will_do = {
		factor = 0
		modifier = {
			factor = 0
			FROM = {
				treasury = 27500
			}
		}
	}
}

#vu_TGE_latent_buildings
# Do not change tags in here without changing every other reference to them.
# If adding new buildings, make sure they are uniquely named.

# cost = x #==> cost in $ to build (subject to other modifiers)
# time = x #==> number of months to build.
# modifier = m # a modifier on the province that the building gives
# trigger = t # an and trigger that needs to be fullfilled to build and keep the building
# one_per_country = yes/no # if yes, only one of these can exist in a country
# manufactory = { trade_good trade_good } # list of trade goods that get a production bonus
# onmap = yes/no # show as a sprite on the map

# FROM = owner
# ROOT = province

# Building AI is now mainly hard-coded. The AI will estimate how much it gains yearly from each building,
# convert the value to ducats, and take the building with biggest yearly return as a percentage of the build cost.
# If lower than 1%, the AI will not consider the yearly return worth it.
# It will also require higher yearly return if the economy in not in prime shape.
# Forts' value also get converted to a yearly return based on terrain and strategic position, as well as available budget for fort maintenance.

# AI can still be modded though; it will multiply the yearly return with the value of ai_will_do.
# If you don't want the AI to build a building at all, make ai_will_do become 0.
# AI will consider each building to be worth 0.01 ducats per year as a base, so making ai_will_do above cost will have them build it at some point.
# It will still check whether it can afford a building before doing so though, but may save up to it.

off = {
	cost = 0
	time = 0
		
	on_destroyed = {
		hidden_effect = {
			if = {
				limit = {
					FROM = {
						AND = {
							check_variable = {
								which = copper
								value = 0.4
							}
							
							check_variable = {
								which = tin
								value = 0.3
							}
						
						}
					}
				}
				FROM = {
					subtract_variable = {            
						which = copper
						value = 0.4
					}
					
					change_variable = {            
						which = copper_used
						value = 0.4
					}
					
					subtract_variable = {            
						which = tin
						value = 0.3
					}
					
					change_variable = {            
						which = tin_used
						value = 0.3
					}
				}
				ROOT = {
					clr_province_flag = back_to_off
				}
			}
			else = {
				ROOT = {
					set_province_flag = back_to_off
				}
			}
			FROM = {
				country_event = { 
					id = New_TradeGood_Events.4
					days = 2
				}
			}
		}
	}
	build_trigger = {
		always = no
	}
	
	
	modifier = { 
		allowed_num_of_buildings = 1 
	    trade_goods_size = -100
		local_hostile_attrition = -1
	}

	ai_will_do = {
		factor = 0
		modifier = {
			factor = 0
			FROM = {
				treasury = 27500
			}
		}
	}
}

off_2 = {
	cost = 0
	time = 0
		
	on_destroyed = {
		hidden_effect = {
			if = {
				limit = {
					FROM = {
						AND = {
							check_variable = {
								which = iron
								value = 1.0
							}
						}
					}
				}
				FROM = {
					subtract_variable = {            
						which = iron
						value = 1.0
					}
					
					change_variable = {            
						which = iron_used
						value = 1.0
					}
				}
				ROOT = {
					clr_province_flag = back_to_off_2
				}
			}
			else = {
				ROOT = {
					set_province_flag = back_to_off_2
				}
			}
			FROM = {
				country_event = { 
					id = New_TradeGood_Events.5
					days = 2
				}
			}
		}
	}
	build_trigger = {
		always = no
	}
	
	
	modifier = { 
		allowed_num_of_buildings = 1 
	    trade_goods_size = -100
	}

	ai_will_do = {
		factor = 0
		modifier = {
			factor = 0
			FROM = {
				treasury = 27500
			}
		}
	}
}


off_3 = {
	cost = 0
	time = 0
		
	on_destroyed = {
		hidden_effect = {
			if = {
				limit = {
					FROM = {
						AND = {
							check_variable = {
								which = lead
								value = 1.0
							}
						}
					}
				}
				FROM = {
					subtract_variable = {            
						which = lead
						value = 1.0
					}
					
					change_variable = {            
						which = lead_used
						value = 1.0
					}
				}
				ROOT = {
					clr_province_flag = back_to_off_3
				}
			}
			else = {
				ROOT = {
					set_province_flag = back_to_off_3
				}
			}
			FROM = {
				country_event = { 
					id = New_TradeGood_Events.6
					days = 2
				}
			}
		}
	}
	build_trigger = {
		always = no
	}
	
	
	modifier = { 
		allowed_num_of_buildings = 1 
	    trade_goods_size = -100
		local_regiment_cost = 0.25
	}

	ai_will_do = {
		factor = 0
		modifier = {
			factor = 0
			FROM = {
				treasury = 27500
			}
		}
	}
}

off_4 = {
	cost = 0
	time = 0
		
	on_destroyed = {
		hidden_effect = {
			if = {
				limit = {
					FROM = {
						AND = {
							check_variable = {
								which = zinc
								value = 0.3
							}
							
							check_variable = {
								which = copper
								value = 0.4
							}
						}
					}
				}
				FROM = {
					subtract_variable = {            
						which = zinc
						value = 0.3
					}
					
					change_variable = {            
						which = zinc_used
						value = 0.3
					}
					
					subtract_variable = {            
						which = copper
						value = 0.4
					}
					
					change_variable = {            
						which = copper_used
						value = 0.4
					}
				}
				ROOT = {
					clr_province_flag = back_to_off_4
				}
			}
			else = {
				ROOT = {
					set_province_flag = back_to_off_4
				}
			}
			FROM = {
				country_event = { 
					id = New_TradeGood_Events.7
					days = 2
				}
			}
		}
	}
	build_trigger = {
		always = no
	}
	
	
	modifier = { 
		allowed_num_of_buildings = 1 
	    trade_goods_size = -100
		local_development_cost = 0.1
	}

	ai_will_do = {
		factor = 0
		modifier = {
			factor = 0
			FROM = {
				treasury = 27500
			}
		}
	}
}


off_5 = {
	cost = 0
	time = 0
		
	on_destroyed = {
		hidden_effect = {
			if = {
				limit = {
					FROM = {
						AND = {
							check_variable = {
								which = glass
								value = 0.6
							}
						}
					}
				}
				FROM = {
					subtract_variable = {            
						which = glass
						value = 0.6
					}
					
					change_variable = {            
						which = glass_used
						value = 0.6
					}
				}
				ROOT = {
					clr_province_flag = back_to_off_5
				}
			}
			else = {
				ROOT = {
					set_province_flag = back_to_off_5
				}
			}
			FROM = {
				country_event = { 
					id = New_TradeGood_Events.8
					days = 2
				}
			}
		}
	}
	build_trigger = {
		always = no
	}
	
	
	modifier = { 
		allowed_num_of_buildings = 1 
	    trade_goods_size = -100
		local_state_maintenance_modifier = 0.25
	}

	ai_will_do = {
		factor = 0
		modifier = {
			factor = 0
			FROM = {
				treasury = 27500
			}
		}
	}
}


off_6 = {
	cost = 0
	time = 0
		
	on_destroyed = {
		hidden_effect = {
			if = {
				limit = {
					FROM = {
						AND = {
							check_variable = {
								which = tobacco
								value = 0.6
							}
						}
					}
				}
				FROM = {
					subtract_variable = {            
						which = tobacco
						value = 0.6
					}
					
					change_variable = {            
						which = tobacco_used
						value = 0.6
					}
				}
				ROOT = {
					clr_province_flag = back_to_off_6
				}
			}
			else = {
				ROOT = {
					set_province_flag = back_to_off_6
				}
			}
			FROM = {
				country_event = { 
					id = New_TradeGood_Events.9
					days = 2
				}
			}
		}
	}
	build_trigger = {
		always = no
	}
	
	
	modifier = { 
		allowed_num_of_buildings = 1 
	    trade_goods_size = -100
		local_state_maintenance_modifier = 0.25
	}

	ai_will_do = {
		factor = 0
		modifier = {
			factor = 0
			FROM = {
				treasury = 27500
			}
		}
	}
}

off_7 = {
	cost = 0
	time = 0
		
	on_destroyed = {
		hidden_effect = {
			if = {
				limit = {
					FROM = {
						AND = {
							check_variable = {
								which = cocoa
								value = 0.6
							}
						}
					}
				}
				FROM = {
					subtract_variable = {            
						which = cocoa
						value = 0.6
					}
					
					change_variable = {            
						which = cocoa_used
						value = 0.6
					}
				}
				ROOT = {
					clr_province_flag = back_to_off_7
				}
			}
			else = {
				ROOT = {
					set_province_flag = back_to_off_7
				}
			}
			FROM = {
				country_event = { 
					id = New_TradeGood_Events.10
					days = 2
				}
			}
		}
	}
	build_trigger = {
		always = no
	}
	
	
	modifier = { 
		allowed_num_of_buildings = 1 
	    trade_goods_size = -100
		local_state_maintenance_modifier = 0.25
	}

	ai_will_do = {
		factor = 0
		modifier = {
			factor = 0
			FROM = {
				treasury = 27500
			}
		}
	}
}

off_8 = {
	cost = 0
	time = 0
		
	on_destroyed = {
		hidden_effect = {
			if = {
				limit = {
					FROM = {
						AND = {
							check_variable = {
								which = grain
								value = 0.6
							}
						}
					}
				}
				FROM = {
					subtract_variable = {            
						which = grain
						value = 0.6
					}
					
					change_variable = {            
						which = grain_used
						value = 0.6
					}
				}
				ROOT = {
					clr_province_flag = back_to_off_8
				}
			}
			else = {
				ROOT = {
					set_province_flag = back_to_off_8
				}
			}
			FROM = {
				country_event = { 
					id = New_TradeGood_Events.11
					days = 2
				}
			}
		}
	}
	build_trigger = {
		always = no
	}
	
	
	modifier = { 
		allowed_num_of_buildings = 1 
	    trade_goods_size = -100
		local_state_maintenance_modifier = 0.25
	}

	ai_will_do = {
		factor = 0
		modifier = {
			factor = 0
			FROM = {
				treasury = 27500
			}
		}
	}
}

import_from_subjects = {
	cost = 0
	time = 0
	
	potential = {
		FROM = { 
			AND = {
				is_subject = no
				is_colonial_nation = no
				is_client_nation = no
			}
		}
	}
	build_trigger = {
		FROM = {
			is_subject_other_than_tributary_trigger = yes
		}
		ROOT = {
			NOT = {	has_province_modifier = import_from_subjects_modifier }
			OR = {
				trade_goods = copper
				trade_goods = tin
				trade_goods = iron
				trade_goods = lead
				trade_goods = zinc
				trade_goods = glass
				trade_goods = tobacco
				trade_goods = cocoa
				trade_goods = grain
			}
		}
	}
	
	on_built = {
		hidden_effect = {
			ROOT = {
				add_permanent_province_modifier = { 
					name = import_from_subjects_modifier
					duration = -1
				}
				
			}
			
			if = {
				limit = { ROOT = { trade_goods = copper } }
				update_goods_subjects = { GOODS = copper }
			}
			else_if = {
				limit = { ROOT = { trade_goods = tin } }
				update_goods_subjects = { GOODS = tin }
			}
			else_if = {
				limit = { ROOT = { trade_goods = iron } }
				update_goods_subjects = { GOODS = iron }
			}
			else_if = {
				limit = { ROOT = { trade_goods = lead } }
				update_goods_subjects = { GOODS = lead }
			}
			else_if = {
				limit = { ROOT = { trade_goods = zinc } }
				update_goods_subjects = { GOODS = zinc }
			}
			else_if = {
				limit = { ROOT = { trade_goods = glass } }
				update_goods_subjects = { GOODS = glass }
			}
			else_if = {
				limit = { ROOT = { trade_goods = tobacco } }
				update_goods_subjects = { GOODS = tobacco }
			}
			else_if = {
				limit = { ROOT = { trade_goods = cocoa } }
				update_goods_subjects = { GOODS = cocoa }
			}
			else_if = {
				limit = { ROOT = { trade_goods = grain } }
				update_goods_subjects = { GOODS = grain }
			}
			
			ROOT = {
				remove_building = import_from_subjects
			}
			
		}
	}
	
	on_destroyed = {
		
	}

	modifier = { 
		allowed_num_of_buildings = 1 
		liberty_desire = 10
	}

	ai_will_do = {
		factor = 0
		modifier = {
			factor = 0
			FROM = {
				treasury = 27500
			}
		}
	}
}


stop_import_from_subjects = {
	cost = 0
	time = 0
	
	potential = {
		FROM = {
			AND = {
		    	is_subject = no
		    	is_colonial_nation = no
		    	is_client_nation = no
			}
		}
	}
	
	build_trigger = {
		FROM = {
			is_subject_other_than_tributary_trigger = yes
		}
		ROOT = {
			has_province_modifier = import_from_subjects_modifier
			OR = {
				trade_goods = copper
				trade_goods = tin
				trade_goods = iron
				trade_goods = lead
				trade_goods = zinc
				trade_goods = glass
				trade_goods = tobacco
				trade_goods = cocoa
				trade_goods = grain
			}
		}
	}
	
	on_built = {
		hidden_effect = {
			ROOT = {
				remove_province_modifier = import_from_subjects_modifier
			}
			if = {
				limit = { ROOT = { trade_goods = copper } }
				update_goods_subjects = { GOODS = copper }
			}
			else_if = {
				limit = { ROOT = { trade_goods = tin } }
				update_goods_subjects = { GOODS = tin }
			}
			else_if = {
				limit = { ROOT = { trade_goods = iron } }
				update_goods_subjects = { GOODS = iron }
			}
			else_if = {
				limit = { ROOT = { trade_goods = lead } }
				update_goods_subjects = { GOODS = lead }
			}
			else_if = {
				limit = { ROOT = { trade_goods = zinc } }
				update_goods_subjects = { GOODS = zinc }
			}
			else_if = {
				limit = { ROOT = { trade_goods = glass } }
				update_goods_subjects = { GOODS = glass }
			}
			else_if = {
				limit = { ROOT = { trade_goods = tobacco } }
				update_goods_subjects = { GOODS = tobacco }
			}
			else_if = {
				limit = { ROOT = { trade_goods = cocoa } }
				update_goods_subjects = { GOODS = cocoa }
			}
			else_if = {
				limit = { ROOT = { trade_goods = grain } }
				update_goods_subjects = { GOODS = grain }
			}
			ROOT = {
				remove_building = stop_import_from_subjects
			}
		}
	}
	
	on_destroyed = {
		
	}

	modifier = { 
		allowed_num_of_buildings = 1 
	}

	ai_will_do = {
		factor = 0
		modifier = {
			factor = 0
			FROM = {
				treasury = 27500
			}
		}
	}
}


cannon_foundry = {
	cost = 1000
	time = 12	

	build_trigger = {
		AND = {
			#development = 10	
			NOT = {	trade_goods = copper }
			NOT = {	trade_goods = tin }
			NOT = {	has_province_flag = has_latent_good	}
		}
		FROM = {
			mil_tech = 24
			#OR = {
			#	innovativeness = 10
			#	NOT = { has_dlc = "Rule Britannia" }
			#}
			check_variable = {
				which = copper
				value = 0.4
			}
			check_variable = {
				which = tin
				value = 0.3
			}
		}
		ROOT = {
			AND = {
				development = 10	
				NOT = {	
					trade_goods = copper
					trade_goods = tin
					has_province_flag = has_latent_good
				}
			}
		}
		NOT = { has_global_flag = No_Cannon }
	}
	on_built = {
		hidden_effect = {
			FROM = {
				subtract_variable = {            
					which = copper
					value = 0.4
				}
				
				subtract_variable = {            
					which = tin
					value = 0.3
				}
				
				change_variable = {            
					which = copper_used
					value = 0.4
				}
				
				change_variable = {            
					which = tin_used
					value = 0.3
				}
				
				change_variable = {            
					which = cannon_foundry_amount
					value = 1
				}
				
				country_event = { 
					id = New_TradeGood_Events.4
					days = 2
				}
			}
			
			ROOT = {
				goods_save = yes
				set_province_flag = has_cannon
				set_province_flag = has_latent_good
				change_trade_goods = cannon
			}
		}

	}
	on_destroyed = {
		hidden_effect = {
			clr_province_flag = has_cannon
			clr_province_flag = has_latent_good
			if = {	
				limit = {
					ROOT = {
						NOT = { has_building = off }
					}
				}
				FROM = {
					change_variable = {            
						which = copper
						value = 0.4
					}
				
					subtract_variable = {            
						which = copper_used
						value = 0.4
					}
					
					change_variable = {            
						which = tin
						value = 0.3
					}
				
					subtract_variable = {            
						which = tin_used
						value = 0.3
					}
				}
			}
			ROOT = { 
				remove_building = off 
				clr_province_flag = back_to_off
			
			}
			
			FROM = {
				subtract_variable = {            
					which = cannon_foundry_amount
					value = 1
				}
				
				country_event = { 
					id = New_TradeGood_Events.4
					days = 2
				}
			}
			
			ROOT = {
				goods_back = yes	
			}
		}
	}
	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	ai_will_do = {
		factor = 2000

		modifier = {	
			factor = 0
			FROM = {
				num_of_owned_provinces_with = {
					value = 3
					trade_goods = cannon
				}
			}
			
		}
		
	}
}



metalworking_workshop = {
	cost = 1000
	time = 12

	build_trigger = {
		AND = {	
			NOT = {	
				trade_goods = iron
				has_province_flag = has_latent_good
			}
		}
		FROM = {
			mil_tech = 33
			#OR = {
			#	innovativeness = 15
			#	NOT = { has_dlc = "Rule Britannia" }
			#}
			check_variable = {
				which = iron
				value = 1.0
			}
		}
		NOT = { has_global_flag = No_Metalworking }
		
	}
	
	on_built = {
		hidden_effect = {
			FROM = {
				subtract_variable = {            
					which = iron
					value = 1.0
				}
						
				change_variable = {            
					which = iron_used
					value = 1.0
				}
		
				change_variable = {            
					which = metalworking_workshop_amount
					value = 1
				}
				
				country_event = { 
					id = New_TradeGood_Events.5
					days = 2
				}
			}
			
			ROOT = {
				goods_save = yes
				set_province_flag = has_metalworking
				set_province_flag = has_latent_good
				change_trade_goods = metalworking
			}
		}

	}
	
	on_destroyed = {
		hidden_effect = {
			clr_province_flag = has_metalworking
			clr_province_flag = has_latent_good
			if = {	
				limit = {
					ROOT = {
						NOT = { has_building = off_2 }
					}
				}
				FROM = {
					change_variable = {            
						which = iron
						value = 1.0
					}
				
					subtract_variable = {            
						which = iron_used
						value = 1.0
					}
				}
			}
			ROOT = { 
				remove_building = off_2 
				clr_province_flag = back_to_off_2
			
			}
			
			FROM = {
				subtract_variable = {            
					which = metalworking_workshop_amount
					value = 1
				}
				
				country_event = { 
					id = New_TradeGood_Events.5
					days = 2
				}
			}
			
			ROOT = {
				goods_back = yes	
			}
		}
	}
	
	modifier = { 
		allowed_num_of_buildings = 1 
		local_governing_cost = 0.15
	
	}

	ai_will_do = {
		factor = 2000
		
		modifier = {	
			factor = 0
			FROM = {
				num_of_owned_provinces_with = {
					value = 3
					trade_goods = metalworking
				}
			}
			
		}
	}
}


munition_factory = {
	cost = 1000
	time = 12
	
	build_trigger = {
		AND = {	
			NOT = {	
				trade_goods = lead
				has_province_flag = has_latent_good
			}
		}
		FROM = {
			mil_tech = 32
			#OR = {
			#	innovativeness = 15
			#	NOT = { has_dlc = "Rule Britannia" }
			#}
			check_variable = {
				which = lead
				value = 1.0
			}
		}
		
		NOT = { has_global_flag = No_Munitions }
	}
	
	on_built = {
		hidden_effect = {
			FROM = {
				subtract_variable = {            
					which = lead
					value = 1.0
				}
						
				change_variable = {            
					which = lead_used
					value = 1.0
				}
		
				change_variable = {            
					which = munition_factory_amount
					value = 1
				}
				
				country_event = { 
					id = New_TradeGood_Events.6
					days = 2
				}
			}
			
			ROOT = {
				goods_save = yes
				set_province_flag = has_munitions
				set_province_flag = has_latent_good
				change_trade_goods = munitions
			}
		}

	}
	
	on_destroyed = {
		hidden_effect = {
			clr_province_flag = has_munitions
			clr_province_flag = has_latent_good
			if = {	
				limit = {
					ROOT = {
						NOT = { has_building = off_3 }
					}
				}
				FROM = {
					change_variable = {            
						which = lead
						value = 1.0
					}
				
					subtract_variable = {            
						which = lead_used
						value = 1.0
					}
				}
			}
			ROOT = { 
				remove_building = off_3 
				clr_province_flag = back_to_off_3
			
			}
			
			FROM = {
				subtract_variable = {            
					which = munition_factory_amount
					value = 1
				}
				
				country_event = { 
					id = New_TradeGood_Events.6
					days = 2
				}
			}
			
			ROOT = {
				goods_back = yes	
			}
		}
	}
	
	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 3000

		modifier = {	
			factor = 0
			FROM = {
				num_of_owned_provinces_with = {
					value = 3
					trade_goods = munitions
				}
			}
			
		}
	}
}




wood_workshop = {
	cost = 400
	time = 12

	build_trigger = {
		ROOT = {
			trade_goods = lumber
			#development = 10
			NOT = { has_province_flag = has_latent_good }
		}
		
		FROM = {
			adm_tech = 27
			#OR = {
			#	innovativeness = 5
			#	NOT = { has_dlc = "Rule Britannia" }
			#}
		}
		NOT = { has_global_flag = No_Woodworking }
	}
	
	on_built = {
		hidden_effect = { 			
			ROOT = { 
				goods_save = yes
				change_trade_goods = woodworking 
				set_province_flag = has_latent_good
			}
			
		}
	}
	
	on_destroyed = {
		ROOT = {
			clr_province_flag = has_latent_good
			goods_back = yes	
		}
	}

	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 700
		
		modifier = {	
			factor = 0
			FROM = {
				num_of_owned_provinces_with = {
					value = 3
					trade_goods = woodworking
				}
			}
			
		}

	}
}

leather_workshop = {
	cost = 400
	time = 12
	
	build_trigger = {
		ROOT = {
			trade_goods = livestock
			#development = 10
			NOT = { has_province_flag = has_latent_good }
		}
		
		FROM = {
			adm_tech = 31
			#OR = {
			#	innovativeness = 7
			#	NOT = { has_dlc = "Rule Britannia" }
			#}
		}
		NOT = { has_global_flag = No_Leather }
	}
	
	

	on_built = {
		hidden_effect = { 
			ROOT = { 
				goods_save = yes
				change_trade_goods = leather 
				set_province_flag = has_latent_good
			}
		}
	}
	
	on_destroyed = {
		ROOT = {
			clr_province_flag = has_latent_good
			goods_back = yes	
		}
	}

	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 700
		
		modifier = {	
			factor = 0
			FROM = {
				num_of_owned_provinces_with = {
					value = 3
					trade_goods = leather
				}
			}

		}

	}
}




fur_workshop = {
	cost = 400
	time = 12
	
	build_trigger = {
		ROOT = {
			trade_goods = fur
			#development = 10
			NOT = { has_province_flag = has_latent_good }
		}
		
		FROM = {
			dip_tech = 5
			OR = {
				innovativeness = 5
				NOT = { has_dlc = "Rule Britannia" }
			}
		}
		NOT = { has_global_flag = No_Leather }
	}
	
	

	on_built = {
		hidden_effect = { 
			ROOT = { 
				goods_save = yes
				change_trade_goods = fur_clothing 
				set_province_flag = has_latent_good
			}
		}
	}
	
	on_destroyed = {
		ROOT = {
			clr_province_flag = has_latent_good
			goods_back = yes	
		}
	}

	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 700
		
		modifier = {	
			factor = 0
			FROM = {
				fur_clothing = 3
			}
		}

	}
}

Instruments_workshop = {
	cost = 1500
	time = 12
	
	build_trigger = {
		ROOT = {
			#development = 25
			NOT = { has_province_flag = has_latent_good }
		}
		
		FROM = {
			dip_tech = 12
			OR = {
				innovativeness = 15
				NOT = { has_dlc = "Rule Britannia" }
			}
		}
		
		FROM = {
			num_of_owned_provinces_with = {
				value = 1
				OR = {
					has_terrain = forest
					has_terrain = woods
					has_terrain = jungle
				}
			}
		}
		NOT = { has_global_flag = No_String_Instruments }
	}
	
	

	on_built = {
		hidden_effect = { 
			ROOT = { 
				goods_save = yes
				change_trade_goods = String_Instruments 
				set_province_flag = has_latent_good
			}
		}
	}
	
	on_destroyed = {
		ROOT = {
			clr_province_flag = has_latent_good
			goods_back = yes	
		}
	}

	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 700
		
		modifier = {	
			factor = 0
			FROM = {
				num_of_owned_provinces_with = {
					value = 3
					trade_goods = String_Instruments
				}
			}
			
		}

	}
}



sculpture_workshop = {
	cost = 600
	time = 12
	
	build_trigger = {
		ROOT = {
			OR = {
				trade_goods = marble
				trade_goods = jade
			}
			#development = 15
			NOT = { has_province_flag = has_latent_good }
		}
		
		has_dlc = "Leviathan"
		
		FROM = {
			adm_tech = 24
			#OR = {
			#	innovativeness = 7
			#	NOT = { has_dlc = "Rule Britannia" }
			#}
			
		}
		NOT = { has_global_flag = No_Marble_sculpture }
	}
	
	

	on_built = {
		hidden_effect = { 
			if = {
				limit = { trade_goods = marble }
				ROOT = { 
					goods_save = yes
					change_trade_goods = marble_sculpture 
					set_province_flag = has_latent_good
				}
			}
			else_if = {
				limit = { trade_goods = jade }
				ROOT = { 
					goods_save = yes
					change_trade_goods = jade_sculptures 
					set_province_flag = has_latent_good
				}
			}
		}
	}
	
	on_destroyed = {
		ROOT = {
			clr_province_flag = has_latent_good
			goods_back = yes	
		}
	}

	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 700
	}
}





jewellery_workshop = {
	cost = 2000
	time = 12

	build_trigger = {
		ROOT = {
			OR = {
				trade_goods = amber
				trade_goods = pearls
				trade_goods = jade
				trade_goods = gems 	
				trade_goods = silver
				trade_goods = gold										
			}
			#development = 20
			NOT = { has_province_flag = has_latent_good }
		}
		
		FROM = {
			dip_tech = 28
			#OR = {
			#	innovativeness = 20
			#	NOT = { has_dlc = "Rule Britannia" }
			#}
		}
		NOT = { has_global_flag = No_Jewellery }
	}
	
	

	on_built = {
		hidden_effect = { 
			ROOT = { 
			goods_save = yes
			change_trade_goods = jewellery 
			set_province_flag = has_latent_good
			}
		}
	}
	
	on_destroyed = {
		ROOT = {
			clr_province_flag = has_latent_good
			goods_back = yes	
		}
	}
	
	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 2000
		
		modifier = {	
			factor = 0
			FROM = {
				num_of_owned_provinces_with = {
					value = 3
					trade_goods = jewellery
				}
			}

		}

	}
}


uniforms_workshop = {
	cost = 650
	time = 12

	build_trigger = {
		FROM = {
			mil_tech = 38
			#OR = {
			#	innovativeness = 7
			#	NOT = { has_dlc = "Rule Britannia" }
			#}
		}
		ROOT = {
			OR = {
				trade_goods = wool
				trade_goods = cloth
				trade_goods = cotton					
			}
			#development = 15
			NOT = { has_province_flag = has_latent_good }
		}

		NOT = { has_global_flag = No_Uniforms }
	}

	on_built = {
		hidden_effect = { 
			ROOT = { 
			goods_save = yes
			change_trade_goods = uniforms 
			set_province_flag = has_latent_good
			}
		}
	}
	
	on_destroyed = {
		ROOT = {
			clr_province_flag = has_latent_good
			goods_back = yes	
		}
	}
	
	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 2000

		modifier = {	
			factor = 0
			FROM = {
				uniforms = 3
			}
		}
		
	}
}

#steam_factory = {
#	cost = 1000
#	time = 12
#	
#	make_obsolete = counting_house
#	build_trigger = {
#		FROM = {
#			any_owned_province = {	
#				AND = {
#					trade_goods = steam_engine
#					NOT = {	has_building = off_4 }
#				}
#			}
#			adm_tech = 41
#			has_institution = enlightenment
#			
#			OR = {
#				innovativeness = 35
#				NOT = { has_dlc = "Rule Britannia" }
#			}
#		}
#		NOT = { has_global_flag = No_Steam_engine }
#
#	}
#	
#	modifier = {
#		local_production_efficiency = 1.75
#	}
#	
#	allow_in_gold_provinces = no
#
#	ai_will_do = {
#		factor = 5000
#	}
#}

#Produces both Steam Engine and Locomotive
steam_engine_manu = {
	cost = 3000
	time = 12
	
	build_trigger = {
		FROM = {
			adm_tech = 41
			has_institution = enlightenment
			#OR = {
			#	innovativeness = 30
			#	NOT = { has_dlc = "Rule Britannia" }
			#}
			check_variable = {
				which = zinc
				value = 0.3
			}
			check_variable = {
				which = copper
				value = 0.4
			}
		}
		AND = {	
			NOT = {	
				trade_goods = zinc
				trade_goods = copper
				has_province_flag = has_latent_good
			}
			
		}
		NOT = { has_global_flag = No_Steam_engine }
	}
	
	on_built = {
		hidden_effect = {
			FROM = {
				subtract_variable = {            
					which = zinc
					value = 0.3
				}
						
				change_variable = {            
					which = zinc_used
					value = 0.3
				}
				
				subtract_variable = {            
					which = copper
					value = 0.4
				}
				
				change_variable = {            
					which = copper_used
					value = 0.4
				}
		
				change_variable = {            
					which = steam_engine_manu_amount
					value = 1
				}
				
				country_event = { 
					id = New_TradeGood_Events.7
					days = 2
				}
			}
			
			ROOT = {
				goods_save = yes
				set_province_flag = has_steam_engine
				set_province_flag = has_latent_good
				change_trade_goods = steam_engine			
			}
		}

	}
	
	on_destroyed = {
		hidden_effect = { 
			clr_province_flag = has_steam_engine
			clr_province_flag = has_latent_good
			if = {	
				limit = {
					ROOT = {
						NOT = { has_building = off_4 }
					}
				}
				FROM = {
					change_variable = {            
						which = zinc
						value = 0.3
					}
				
					subtract_variable = {            
						which = zinc_used
						value = 0.3
					}
					
					change_variable = {            
						which = copper
						value = 0.4
					}
				
					subtract_variable = {            
						which = copper_used
						value = 0.4
					}
				}
			}
			ROOT = { 
				remove_building = off_4 
				clr_province_flag = back_to_off_4
			
			}
			
			FROM = {
				subtract_variable = {            
					which = steam_engine_manu_amount
					value = 1
				}
				
				country_event = { 
					id = New_TradeGood_Events.7
					days = 2
				}
			}
			
			ROOT = {
				goods_back = yes	
			}
		}
	}
	
	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}
	
	ai_will_do = {
		factor = 6000

		modifier = {	
			factor = 0
			FROM = {
				steam_engine = 3
			}
		}	
	}
}




mine = {
	cost = 500
	time = 12
	
	build_trigger = {
		AND = {
			ROOT = { 
				NOT = { has_province_flag = has_latent_good }
				NOT = { has_province_flag = has_mine }
				NOT = { trade_goods = copper }
				NOT = { trade_goods = tin }
				NOT = { trade_goods = zinc }
				NOT = { trade_goods = iron }
				NOT = { trade_goods = lead }
				OR = {
					has_terrain = mountain
					has_terrain = hills
					has_terrain = highlands
					has_terrain = cold_mountains
					has_terrain = tropical_highlands_terrain
					has_terrain = desert_ranges
					has_terrain = dry_highlands
				}
				#NOT = { has_province_modifier = mine_fail }
			}
			FROM = {
				dip_power = 100
			}
		}
		#NOT = { has_global_flag = No_Mine }
	}
	
	modifier = {
		
	}
	on_built = {

	}
	
	on_destroyed = {
		
	}
	
	allow_in_gold_provinces = no

	
	ai_will_do = {
		factor = 1
		
		modifier = {	
			factor = 0
			FROM = {
				num_of_loans = 1
			}
		}
		
		modifier = {	
			factor = 2
			FROM = {
				treasury = 1000
			}
		}
	}
}


spectacle_factory = {
	cost = 1000
	time = 12	
	
	build_trigger = {
		FROM = {
			dip_tech = 26
			#OR = {
			#	innovativeness = 15
			#	NOT = { has_dlc = "Rule Britannia" }
			#}
			check_variable = {
				which = glass
				value = 0.8
				#value = 0.6 #VU - This is a TGE value
			}
		}
		AND = {	
			NOT = {	
				trade_goods = glass
				has_province_flag = has_latent_good
			}
		}
		NOT = { has_global_flag = No_Optics  }
	}
	
	on_built = {
		hidden_effect = {
			FROM = {
				subtract_variable = {            
					which = glass
					value = 0.8
				}
						
				change_variable = {            
					which = glass_used
					value = 0.8
				}
		
				change_variable = {            
					which = spectacle_factory_amount
					value = 1
				}
				
				country_event = { 
					id = New_TradeGood_Events.8
					days = 2
				}
			}
			
			ROOT = {
				goods_save = yes
				set_province_flag = has_optics
				set_province_flag = has_latent_good
				change_trade_goods = optics
			}
		}

	}
	
	on_destroyed = {
		hidden_effect = {
			clr_province_flag = has_optics
			clr_province_flag = has_latent_good
			if = {	
				limit = {
					ROOT = {
						NOT = { has_building = off_5 }
					}
				}
				FROM = {
					change_variable = {            
						which = glass
						value = 0.8
					}
				
					subtract_variable = {            
						which = glass_used
						value = 0.8
					}
				}
			}
			ROOT = { 
				remove_building = off_5 
				clr_province_flag = back_to_off_5
			
			}
			
			FROM = {
				subtract_variable = {            
					which = spectacle_factory_amount
					value = 1
				}
				
				country_event = { 
					id = New_TradeGood_Events.8
					days = 2
				}
			}
			
			ROOT = {
				goods_back = yes	
			}
		}
	}
		
	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 1000
		
		modifier = {	
			factor = 0
			FROM = {
				optics = 3
			}
		}

	}
}


cigars_factory = {
	cost = 1500
	time = 12	
	
	build_trigger = {
		FROM = {
			dip_tech = 29
			#OR = {
			#	innovativeness = 15
			#	NOT = { has_dlc = "Rule Britannia" }
			#}
			check_variable = {
				which = tobacco
				value = 0.6
			}
		}
		AND = {	
			NOT = {	
				trade_goods = tobacco
				has_province_flag = has_latent_good
			}
		}
		NOT = { has_global_flag = No_Cigars  }
	}
	
	on_built = {
		hidden_effect = {
			FROM = {
				subtract_variable = {            
					which = tobacco
					value = 0.6
				}
						
				change_variable = {            
					which = tobacco_used
					value = 0.6
				}
		
				change_variable = {            
					which = cigars_factory_amount
					value = 1
				}
				
				country_event = { 
					id = New_TradeGood_Events.9
					days = 2
				}
			}
			
			ROOT = {
				goods_save = yes
				set_province_flag = has_cigars
				set_province_flag = has_latent_good
				change_trade_goods = cigars
			}
		}

	}
	
	on_destroyed = {
		hidden_effect = {
			clr_province_flag = has_cigars
			clr_province_flag = has_latent_good
			if = {	
				limit = {
					ROOT = {
						NOT = { has_building = off_6 }
					}
				}
				FROM = {
					change_variable = {            
						which = tobacco
						value = 0.6
					}
				
					subtract_variable = {            
						which = tobacco_used
						value = 0.6
					}
				}
			}
			ROOT = { 
				remove_building = off_6 
				clr_province_flag = back_to_off_6
			
			}
			
			FROM = {
				subtract_variable = {            
					which = cigars_factory_amount
					value = 1
				}
				
				country_event = { 
					id = New_TradeGood_Events.9
					days = 2
				}
			}
			
			ROOT = {
				goods_back = yes	
			}
		}
	}
		
	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 1000
		
		modifier = {	
			factor = 0
			FROM = {
				cigars = 3
			}
		}

	}
}

chocolate_factory = {
	cost = 1250
	time = 12	
	
	build_trigger = {
		FROM = {
			dip_tech = 27
			#OR = {
			#	innovativeness = 15
			#	NOT = { has_dlc = "Rule Britannia" }
			#}
			check_variable = {
				which = cocoa
				value = 0.6
			}
		}
		AND = {	
			NOT = {	
				trade_goods = cocoa
				has_province_flag = has_latent_good
			}
		}
		NOT = { has_global_flag = No_Chocolate  }
	}
	
	on_built = {
		hidden_effect = {
			FROM = {
				subtract_variable = {            
					which = cocoa
					value = 0.6
				}
						
				change_variable = {            
					which = cocoa_used
					value = 0.6
				}
		
				change_variable = {            
					which = chocolate_factory_amount
					value = 1
				}
				
				country_event = { 
					id = New_TradeGood_Events.10
					days = 2
				}
			}
			
			ROOT = {
				goods_save = yes
				set_province_flag = has_chocolate
				set_province_flag = has_latent_good
				change_trade_goods = chocolate
			}
		}

	}
	
	on_destroyed = {
		hidden_effect = {
			clr_province_flag = has_chocolate
			clr_province_flag = has_latent_good
			if = {	
				limit = {
					ROOT = {
						NOT = { has_building = off_7 }
					}
				}
				FROM = {
					change_variable = {            
						which = cocoa
						value = 0.6
					}
				
					subtract_variable = {            
						which = cocoa_used
						value = 0.6
					}
				}
			}
			ROOT = { 
				remove_building = off_7 
				clr_province_flag = back_to_off_7
			
			}
			
			FROM = {
				subtract_variable = {            
					which = chocolate_factory_amount
					value = 1
				}
				
				country_event = { 
					id = New_TradeGood_Events.10
					days = 2
				}
			}
			
			ROOT = {
				goods_back = yes	
			}
		}
	}
		
	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 1000
		
		modifier = {	
			factor = 0
			FROM = {
				chocolate = 3
			}
		}

	}
}

bakery = {
	cost = 1150
	time = 12
	build_trigger = {
		ROOT = {
			NOT = { has_province_flag = has_latent_good }
		}
		FROM = {
			dip_tech = 23
			check_variable = {
				which = grain
				value = 0.6
			}
		}
		NOT = { has_global_flag = No_Sweet_Confectioneries }
	}
	on_built = {
		hidden_effect = {
			FROM = {
				subtract_variable = {            
					which = grain
					value = 0.6
				}
				change_variable = {            
					which = grain_used
					value = 0.6
				}
				change_variable = {            
					which = bakery_amount
					value = 1
				}
				country_event = { 
					id = New_TradeGood_Events.11
					days = 2
				}
			}
			ROOT = {
				goods_save = yes
				set_province_flag = has_sweet_confectioneries
				set_province_flag = has_latent_good
				change_trade_goods = sweet_confectioneries
			}
		}
	}
	on_destroyed = {
		hidden_effect = {
			clr_province_flag = has_sweet_confectioneries
			clr_province_flag = has_latent_good
			if = {	
				limit = {
					ROOT = {
						NOT = { has_building = off_8 }
					}
				}
				FROM = {   
				    change_variable = {            
				    	which = grain
				    	value = 0.6
				    }
					subtract_variable = {            
				    	which = grain_used
				    	value = 0.6
				    }
				}
			}
			ROOT = { 
				remove_building = off_8 
				clr_province_flag = back_to_off_8
			}
			FROM = {
				subtract_variable = {            
					which = bakery_amount
					value = 1
				}
				country_event = { 
					id = New_TradeGood_Events.11
					days = 2
				}
			}
			ROOT = {
				goods_back = yes	
			}
		}
	}
	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}
	ai_will_do = {
		factor = 1000
		modifier = {	
			factor = 0
			FROM = {
				sweet_confectioneries = 3
			}
		}
	}
}

cannery_workshop = {
	cost = 1000
	time = 12

	build_trigger = {
		ROOT = {
			OR = {
				trade_goods = fish
				trade_goods = vegetables
				trade_goods = fruit
				trade_goods = tomato
				trade_goods = maize
			}
			NOT = { has_province_flag = has_latent_good }
		}
		
		FROM = {
			adm_tech = 47
		}
		NOT = { has_global_flag = No_Canned_Goods }
	}
	
	on_built = {
		hidden_effect = { 			
			ROOT = { 
				goods_save = yes
				change_trade_goods = canned_goods 
				set_province_flag = has_latent_good
			}
			
		}
	}
	
	on_destroyed = {
		ROOT = {
			clr_province_flag = has_latent_good
			goods_back = yes	
		}
	}

	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 700
		
		modifier = {	
			factor = 0
			FROM = {
				canned_goods = 3
			}
		}

	}
}

#LATEST ADDITIONS
# Please change things in localisation/vu/vu_building_l_english.yml if you change the name or description / requirements / output
# Please change things in localisation/vu/vu_trade_goods_l_english.yml if you change technology (LATENT_TRADEGOOD_TECH) 
# currently ALL use dip_tech 9, MAKE SURE to move write name_of_building = yes in the appropriate tech

regular_cloth_workshop = {
	cost = 1000
	time = 1

	build_trigger = {
		ROOT = {
			trade_goods = cloth
			NOT = { has_province_flag = has_latent_good }
		}
		
		FROM = {
			dip_tech = 9
		}
	}
	
	on_built = {
		hidden_effect = { 			
			ROOT = { 
				goods_save = yes
				change_trade_goods = regular_clothes 
				set_province_flag = has_latent_good
			}
		}
	}
	
	on_destroyed = {
		ROOT = {
			clr_province_flag = has_latent_good
			goods_back = yes	
		}
	}

	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 700
		
		modifier = {	
			factor = 0
			FROM = {
				regular_clothes = 3
			}
		}
	}
}

luxury_cloth_workshop = {
	cost = 1000
	time = 1

	build_trigger = {
		ROOT = {
			trade_goods = cloth
			NOT = { has_province_flag = has_latent_good }
		}
		
		FROM = {
			dip_tech = 9
		}
	}
	
	on_built = {
		hidden_effect = { 			
			ROOT = { 
				goods_save = yes
				change_trade_goods = luxury_clothes
				set_province_flag = has_latent_good
			}
		}
	}
	
	on_destroyed = {
		ROOT = {
			clr_province_flag = has_latent_good
			goods_back = yes	
		}
	}

	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 700
		
		modifier = {	
			factor = 0
			FROM = {
				luxury_clothes = 3
			}
		}
	}
}

luxury_furniture_workshop = {
	cost = 1000
	time = 1

	build_trigger = {
		ROOT = {
			OR = {
				trade_goods = ebony
				trade_goods = lumber
			}
			NOT = { has_province_flag = has_latent_good }
		}
		
		FROM = {
			dip_tech = 9
		}
	}
	
	on_built = {
		hidden_effect = { 			
			ROOT = { 
				goods_save = yes	
				if = {
					limit = { trade_goods = ebony }
					change_trade_goods = lacquerware
				}
				else_if = {
					limit = { trade_goods = tropical_wood }
					change_trade_goods = woodworking
				}	
				set_province_flag = has_latent_good
			}
		}
	}
	
	on_destroyed = {
		ROOT = {
			clr_province_flag = has_latent_good
			goods_back = yes	
		}
	}

	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 700
		
		modifier = {	
			factor = 0
			FROM = {
				OR= {
					lacquerware = 3
					woodworking = 3
				}
			}
		}
	}
}

utensil_workshop = {
	cost = 1000
	time = 1

	build_trigger = {
		ROOT = {
			OR = {
				trade_goods = iron
				trade_goods = copper
			}
			NOT = { has_province_flag = has_latent_good }
		}
		
		FROM = {
			dip_tech = 9
		}
	}
	
	on_built = {
		hidden_effect = { 			
			ROOT = { 
				goods_save = yes
				change_trade_goods = accoutrements
				set_province_flag = has_latent_good
			}
		}
	}
	
	on_destroyed = {
		ROOT = {
			clr_province_flag = has_latent_good
			goods_back = yes	
		}
	}

	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 700
		
		modifier = {	
			factor = 0
			FROM = {
				accoutrements = 3
			}
		}
	}
}

glassmaker = {
	cost = 1000
	time = 1

	build_trigger = {
		ROOT = {
			trade_goods = sand
			NOT = { has_province_flag = has_latent_good }
		}
		
		FROM = {
			dip_tech = 9
		}
	}
	
	on_built = {
		hidden_effect = { 			
			ROOT = { 
				goods_save = yes
				change_trade_goods = glass 
				set_province_flag = has_latent_good
			}
			
		}
	}
	
	on_destroyed = {
		ROOT = {
			clr_province_flag = has_latent_good
			goods_back = yes	
		}
	}

	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 700
		
		modifier = {	
			factor = 0
			FROM = {
				glass = 3
			}
		}

	}
}

#automobile_plant = { #Was glassmaker
#	cost = 1000
#	time = 1
#
#	build_trigger = {
#		ROOT = {
#			trade_goods = bricks #tradegood needed to build it
#			trade_goods = cement #tradegood needed to build it
#			trade_goods = glass #tradegood needed to build it
#			NOT = { has_province_flag = has_latent_good }
#		}
#		
#		FROM = {
#			dip_tech = 9
#		}
#	}
#	
#	on_built = {
#		hidden_effect = { 			
#			ROOT = { 
#				goods_save = yes
#				if = {
#					limit = { 
#						trade_goods = ebony #tradegood used
#						trade_goods = glass #tradegood used
#						trade_goods = oil #tradegood used
#						trade_goods = rubber #tradegood used
#						trade_goods = steel #tradegood used
#					}
#					change_trade_goods = automobiles #tradegood that comes out
#				}
#				else_if = {
#					limit = { 
#						trade_goods = glass #tradegood used
#						trade_goods = oil #tradegood used
#						trade_goods = rubber #tradegood used
#						trade_goods = steel #tradegood used
#					}
#					change_trade_goods = tractors #tradegood that comes out
#				}	
#				set_province_flag = has_latent_good
#			}
#			
#		}
#	}
#	
#	on_destroyed = {
#		ROOT = {
#			clr_province_flag = has_latent_good
#			goods_back = yes	
#		}
#	}
#
#	modifier = {
#		allowed_num_of_buildings = 1
#		local_governing_cost = 0.15
#	}	
#	
#	ai_will_do = {
#		factor = 700
#		
#		modifier = {	
#			factor = 0
#			FROM = {
#				OR= {
#					automobiles = 3 #tradegood produced
#					tractors = 3 #tradegood produced
#				}
#			}
#		}
#
#	}
#}
#
#bicycle_factory = {
#	cost = 1000
#	time = 1
#
#	build_trigger = {
#		ROOT = {
#			trade_goods = bricks #tradegood needed to build it
#			trade_goods = cement #tradegood needed to build it
#			trade_goods = glass #tradegood needed to build it
#			NOT = { has_province_flag = has_latent_good }
#		}
#		
#		FROM = {
#			dip_tech = 9
#		}
#	}
#	
#	on_built = {
#		hidden_effect = { 			
#			ROOT = { 
#				goods_save = yes
#				if = {
#					limit = { 
#						OR = {
#							trade_goods = rubber #tradegood used
#							trade_goods = steel #tradegood used
#						}
#					}
#					change_trade_goods = bicycles #tradegood that comes out
#				}
#				else_if = {
#					limit = { 
#						OR = {
#							trade_goods = glass #tradegood used
#							trade_goods = oil #tradegood used
#							trade_goods = rubber #tradegood used
#							trade_goods = steel #tradegood used
#						}
#					}
#					change_trade_goods = motorcycles #tradegood that comes out
#				}	
#				set_province_flag = has_latent_good
#			}
#			
#		}
#	}
#	
#	on_destroyed = {
#		ROOT = {
#			clr_province_flag = has_latent_good
#			goods_back = yes	
#		}
#	}
#
#	modifier = {
#		allowed_num_of_buildings = 1
#		local_governing_cost = 0.15
#	}	
#	
#	ai_will_do = {
#		factor = 700
#		
#		modifier = {	
#			factor = 0
#			FROM = {
#				OR= {
#					automobiles = 3 #tradegood produced
#					tractors = 3 #tradegood produced
#				}
#			}
#		}
#
#	}
#}


potters = {
	cost = 1000
	time = 1

	build_trigger = {
		ROOT = {
			trade_goods = clay
			NOT = { has_province_flag = has_latent_good }
		}
		
		FROM = {
			dip_tech = 9
		}
	}
	
	on_built = {
		hidden_effect = { 			
			ROOT = { 
				goods_save = yes
				change_trade_goods = pottery 
				set_province_flag = has_latent_good
			}
			
		}
	}
	
	on_destroyed = {
		ROOT = {
			clr_province_flag = has_latent_good
			goods_back = yes	
		}
	}

	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 700
		
		modifier = {	
			factor = 0
			FROM = {
				pottery = 3
			}
		}
	}
}

#brick_and_cement_factory = { #Was potters
#	cost = 1000
#	time = 1
#
#	build_trigger = {
#		#ROOT = {
#		#	trade_goods = clay
#		#	trade_goods = sand
#		#	NOT = { has_province_flag = has_latent_good }
#		#}
#		
#		FROM = {
#			dip_tech = 9
#		}
#	}
#	
#	on_built = {
#		hidden_effect = { 			
#			ROOT = { 
#				goods_save = yes	
#				if = {
#					limit = { 
#						OR = {
#							trade_goods = sand
#							trade_goods = clay 
#						}
#					}
#					change_trade_goods = bricks
#				}
#				else_if = {
#					limit = {
#						OR = {
#							trade_goods = sand
#							trade_goods = limestone
#						}
#					}
#					change_trade_goods = cement
#				}	
#				set_province_flag = has_latent_good
#			}
#			
#		}
#	}
#	
#	on_destroyed = {
#		ROOT = {
#			clr_province_flag = has_latent_good
#			goods_back = yes	
#		}
#	}
#
#	modifier = {
#		allowed_num_of_buildings = 1
#		local_governing_cost = 0.15
#	}	
#	
#	ai_will_do = {
#		factor = 700
#		
#		modifier = {	
#			factor = 0
#			FROM = {
#				pottery = 3
#			}
#		}
#	}
#}

steel_foundry = {
	cost = 1000
	time = 1

	build_trigger = {
		ROOT = {
			trade_goods = iron
			NOT = { has_province_flag = has_latent_good }
		}
		
		FROM = {
			dip_tech = 9
		}
	}
	
	on_built = {
		hidden_effect = { 			
			ROOT = { 
				goods_save = yes
				change_trade_goods = steel 
				set_province_flag = has_latent_good
			}
			
		}
	}
	
	on_destroyed = {
		ROOT = {
			clr_province_flag = has_latent_good
			goods_back = yes	
		}
	}

	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 700
		
		modifier = {	
			factor = 0
			FROM = {
				steel = 3
			}
		}
	}
}

papermill = {
	cost = 1000
	time = 1

	build_trigger = {
		ROOT = {
			trade_goods = lumber
			NOT = { has_province_flag = has_latent_good }
		}
		
		FROM = {
			dip_tech = 9
		}
	}
	
	on_built = {
		hidden_effect = { 			
			ROOT = { 
				goods_save = yes
				change_trade_goods = paper 
				set_province_flag = has_latent_good
			}
			
		}
	}
	
	on_destroyed = {
		ROOT = {
			clr_province_flag = has_latent_good
			goods_back = yes	
		}
	}

	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 700
		
		modifier = {	
			factor = 0
			FROM = {
				paper = 3
			}
		}
	}
}

brewery = {
	cost = 1000
	time = 1

	build_trigger = {
		ROOT = {
			OR = {
				trade_goods = grain
				trade_goods = tea
				trade_goods = coffee
			}
			NOT = { has_province_flag = has_latent_good }
		}
		
		FROM = {
			dip_tech = 9
		}
	}
	
	on_built = {
		hidden_effect = { 	
			ROOT = {
				goods_save = yes	
				if = {
					limit = { trade_goods = grain }
					change_trade_goods = beer
				}
				else_if = {
					limit = { trade_goods = tea }
					change_trade_goods = english_tea
				}
				else_if = {
					limit = { trade_goods = coffee }
					change_trade_goods = expresso
				}

				set_province_flag = has_latent_good
			}
		}
	}
	
	on_destroyed = {
		ROOT = {
			clr_province_flag = has_latent_good
			goods_back = yes	
		}
	}

	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 700
	}
}

medical_facility = {
	cost = 1000
	time = 1

	build_trigger = {
		ROOT = {
			trade_goods = apiculture
			NOT = { has_province_flag = has_latent_good }
		}
		
		FROM = {
			dip_tech = 9
		}
	}
	
	on_built = {
		hidden_effect = { 			
			ROOT = { 
				goods_save = yes
				change_trade_goods = medicaments 
				set_province_flag = has_latent_good
			}
			
		}
	}
	
	on_destroyed = {
		ROOT = {
			clr_province_flag = has_latent_good
			goods_back = yes	
		}
	}

	modifier = {
		allowed_num_of_buildings = 1
		local_governing_cost = 0.15
	}	
	
	ai_will_do = {
		factor = 700
		
		modifier = {	
			factor = 0
			FROM = {
				medicaments = 3
			}
		}
	}
}

#fabric_workshop = { #This is the template for the fabric workshop. Basically, if we can get this to work, then it will enable an actual manufacturing system in-game and it can be used for other buildings that don't necessarily use all resources assigned to it at once but use them in the context of an OR.
#	cost = 1000
#	time = 12	
#
#	build_trigger = { #Basically what is needed in order for the manufactory to be built.
#		AND = {
#			#development = 10	
#			NOT = {	trade_goods = bricks }
#			NOT = {	trade_goods = cement }
#			NOT = {	trade_goods = glass }
#			NOT = {	has_province_flag = has_latent_good	}
#		}
#		FROM = { #Checking the country if it has these resources in order to build this workshop.
#			mil_tech = 24
#			#OR = {
#			#	innovativeness = 10
#			#	NOT = { has_dlc = "Rule Britannia" }
#			#}
#			#The resources below here are all needed at once in order to build manufacturing buildings.
#			check_variable = {
#				which = bricks
#				value = 0.2
#			}
#			check_variable = {
#				which = cement
#				value = 0.1
#			}
#			check_variable = {
#				which = glass
#				value = 0.1
#			}
#		}
#		ROOT = { #Checking the province if it has these resources in order to build this workshop.
#			AND = { #Again, I'm not 100% sure whether these work or not. The template itself was after all inspired by the cannon_foundry latent building.
#				development = 10	
#				NOT = {	
#					trade_goods = bricks
#					trade_goods = cement
#					trade_goods = glass
#					has_province_flag = has_latent_good
#				}
#			}
#		}
#		NOT = { has_global_flag = No_Fabrics }
#	}
#	on_built = { #Basically what happens when the manufactory is built.
#		hidden_effect = {
#			FROM = { #Check the country's resources
#				OR = { #I added in the OR here because I want to say that if the country has access to wool then use it or if it has cotton or silkworms. Please feel free to remove if it is wrong.
#			    	subtract_variable = {            
#			    		which = wool
#			    		value = 0.4
#			    	}
#			    	
#			    	subtract_variable = {            
#			    		which = cotton
#			    		value = 0.3
#			    	}
#    
#			    	subtract_variable = {            
#			    		which = silkworm
#			    		value = 0.3
#			    	}
#			    	
#			    	change_variable = {            
#			    		which = wool_used
#			    		value = 0.4
#			    	}
#			    	
#			    	change_variable = {            
#			    		which = cotton_used
#			    		value = 0.3
#			    	}
#    
#			    	change_variable = {            
#			    		which = silkworm_used
#			    		value = 0.3
#			    	}
#    
#			    }
#				
#				change_variable = {            
#					which = fabric_workshop_amount
#					value = 1
#				}
#				
#				country_event = { 
#					id = New_TradeGood_Events.4
#					days = 2
#				}
#			}
#
#			ROOT = { #Checking the province's resources
#				goods_save = yes
#				if = {
#					limit = {
#						check_variable = {
#							which = wool
#							value = 0.1
#						}
#					}
#					subtract_variable = {            
#				    	which = wool
#				    	value = 0.1
#				    }
#					change_variable = {            
#				    	which = wool_used
#				    	value = 0.1
#				    }
#					change_trade_goods = cloth
#				}
#				else_if = {
#					limit = {
#						check_variable = {
#							which = cotton
#							value = 0.1
#						}
#					}
#					subtract_variable = {            
#				    	which = cotton
#				    	value = 0.1
#				    }
#    
#				    change_variable = {            
#				    	which = cotton_used
#				    	value = 0.1
#				    }
#					change_trade_goods = cloth
#				}	
#				else_if = {
#					limit = {
#						check_variable = {
#							which = silkworm
#							value = 0.1
#						}
#					}
#					subtract_variable = {            
#				    	which = silkworm
#				    	value = 0.1
#				    }
#    
#				    change_variable = {            
#				    	which = silkworm_used
#				    	value = 0.1
#				    }
#					change_trade_goods = silk
#				}	
#				set_province_flag = has_latent_good
#				set_province_flag = No_fabrics
#			}
#		}
#	}
#	#Everything below here hasn't been done yet.
#	on_destroyed = { #Basically what happens when the building is destroyed.
#		hidden_effect = {
#			clr_province_flag = has_fabrics
#			clr_province_flag = has_latent_good
#			if = {	
#				limit = {
#					ROOT = {
#						NOT = { has_building = off } #This pertains to the off buildings above and this number can be anything after 9. So, off_10 for example.
#					}
#				}
#				FROM = {
#					change_variable = {            
#						which = copper
#						value = 0.4
#					}
#				
#					subtract_variable = {            
#						which = copper_used
#						value = 0.4
#					}
#					
#					change_variable = {            
#						which = tin
#						value = 0.3
#					}
#				
#					subtract_variable = {            
#						which = tin_used
#						value = 0.3
#					}
#				}
#			}
#			ROOT = { 
#				remove_building = off #Has to match whatever the top off is.
#				clr_province_flag = back_to_off
#			
#			}
#			
#			FROM = {
#				subtract_variable = {            
#					which = fabric_workshop_amount
#					value = 1
#				}
#				
#				country_event = { 
#					id = New_TradeGood_Events.4
#					days = 2
#				}
#			}
#			
#			ROOT = {
#				goods_back = yes	
#			}
#		}
#	}
#	modifier = {
#		allowed_num_of_buildings = 1
#		local_governing_cost = 0.15
#	}	
#	ai_will_do = {
#		factor = 2000
#
#		modifier = {	
#			factor = 0
#			FROM = {
#				num_of_owned_provinces_with = {
#					value = 3
#					OR = {
#						trade_goods = cloth
#						trade_goods = silk
#					}
#				}
#			}
#			
#		}
#		
#	}
#}